(function(){var z=function(J){return new C(J)};var H=(function(){var P={kenel:[{n:"webkit",g:/applewebkit\/([\d.]+)/},{n:"gecko",g:/gecko\/([\d.]+)/},{n:"trident",g:/trident\/([\d.]+)/}],info:[{n:"chrome",g:/chrome\/([\d.]+)/},{n:"firefox",g:/firefox\/([\d.]+)/},{n:"msie",g:/msie ([\d.]+)/},{n:"opera",g:/opera\/([\d.]+)/},{n:"safari",g:/safari\/([\d.]+)/},{n:"blackberry",g:/blackberry ([\d.]+)/}],os:[{n:"windows",g:/windows ([a-z\d. ]+)/},{n:"osx",g:/mac os x ([a-z\d. ]+)/},{n:"ios",g:/os ([a-z\d. _]+)/},{n:"linux",g:/linux ([a-z\d. _]+)/},{n:"linux",g:/linux/},{n:"blackberry",g:/blackberry ([a-z\d. ]+)/},{n:"blackberry",g:/bb[0-9]+/}],mobile:[{n:"android",g:/android ([\d.]+)/},{n:"iphone",g:/iphone/},{n:"ipad",g:/ipad/},{n:"blackberry",g:/bb[0-9]+/},{n:"blackberry",g:/blackberry/}]},O=window.navigator.userAgent.toLowerCase(),Q={};for(var N in P){Q[N]=undefined;for(var M in P[N]){var K=P[N][M];var J=O.match(K.g);if(J){var L=J[0].match(/[0-9._]+/);Q[N]={name:K.n,version:L?L[0]:undefined};break}}}if(Q.kenel&&Q.kenel.name==="trident"&&Q.kenel.version==="7.0"){Q.info={name:"msie",version:"11"}}Q.isMobile=function(){return this.mobile!==null};Q.isAndroid=function(R){if(arguments.length===0){return this.mobile?(this.mobile.name==="android"):false}else{return this.mobile.name==="android"&&parseInt(this.mobile.version)===parseInt(R)}};Q.isIos=function(R){if(arguments.length===0){return this.mobile?(this.mobile.name==="ios"):false}else{return this.mobile.name==="ios"&&parseInt(this.mobile.version)===parseInt(R)}};Q.isWebkit=function(R){if(arguments.length===0){return this.kenel?(this.kenel.name==="webkit"):false}else{return this.kenel.name==="webkit"&&parseInt(this.kenel.version)===parseInt(R)}};Q.isGecko=function(R){if(arguments.length===0){return this.kenel?(this.kenel.name==="gecko"):false}else{return this.kenel.name==="gecko"&&parseInt(this.kenel.version)===parseInt(R)}};Q.isTrident=function(){return this.kenel?(this.kenel.name==="trident"):false};Q.isIe=function(R){if(arguments.length===0){return this.info?(this.info.name==="msie"):false}else{return this.info.name==="msie"&&parseInt(this.info.version)===parseInt(R)}};Q.isSupport=function(){return this.kenel&&(this.kenel.name==="webkit"||this.kenel.name==="gecko"||(this.kenel.name==="trident"&&this.kenel.version/1>=6))};return Q})();var m={isFunction:function(J){return(typeof J==="function")&&J.constructor===Function},isEmptyObject:function(K){for(var J in K){return false}return true},isWindow:function(J){return J!==undefined&&J!==null&&J===J.window},isDocument:function(J){return J!==null&&J.nodeType===J.DOCUMENT_NODE},isObject:function(J){return typeof(J)==="object"&&Object.prototype.toString.call(J).toLowerCase()==="[object object]"&&!J.length},isString:function(J){return(typeof J==="string")&&J.constructor===String},isNumber:function(J){return typeof J==="number"},isNumeric:function(J){return !isNaN(parseFloat(J))&&isFinite(J)},isAvalid:function(J){return J!==null&&J!==undefined},isArray:function(J){return Object.prototype.toString.call(J)==="[object Array]"},isQueryString:function(J){return m.isString(J)&&/(^|&).*=([^&]*)(&|$)/.test(J)},isElement:function(J){return J&&J.nodeType===1&&J.nodeName}};var x={parse:function(J){return window.JSON.parse(J)},stringify:function(J){return window.JSON.stringify(J)},postData:function(M){if(M){if(M instanceof FormData||M instanceof Blob||M instanceof ArrayBuffer){return M}else{if(m.isObject(M)){var J=false;for(var L in M){if(M[L] instanceof Blob||M[L] instanceof ArrayBuffer||M[L] instanceof File){J=true;break}}if(J){var K=new FormData();for(var L in M){if(M[L] instanceof Blob){K.append(L,M[L])}else{if(M[L] instanceof File){K.append(L,M[L])}else{if(m.isArray(M[L])||m.isObject(M[L])){K.append(L,window.encodeURIComponent(x.stringify(M[L])))}else{if(M[L] instanceof FormData){}else{K.append(L,window.encodeURIComponent(M[L].toString()))}}}}}return K}else{return x.queryString(M)}}else{if(m.isArray(M)){return window.encodeURIComponent(x.stringify(M))}else{return M}}}}else{return null}},queryString:function(L){var J="";if(L){for(var K in L){var M=L[K];if(m.isString(M)){J+=K+"="+window.encodeURIComponent(M)+"&"}else{if(m.isObject(M)||m.isArray(M)){J+=K+"="+window.encodeURIComponent(x.stringify(M))+"&"}else{if(M instanceof FormData||M instanceof Blob||M instanceof File||M instanceof ArrayBuffer){}else{J+=K+"="+(M?window.encodeURIComponent(M.toString()):"")+"&"}}}}return J.length>0?J.substring(0,J.length-1):""}else{return""}},queryObject:function(K){var L=K.split("?"),J={};if(L.length>1){L[1].split("&").forEach(function(M){var N=M.split("=");J[N[0]]=N.length>1?N[1]:""});return J}else{return null}},hashObject:function(K){var L=K.split("#"),J={};if(L.length>1){L[1].split("&").forEach(function(M){var N=M.split("=");J[N[0]]=N.length>1?N[1]:""});return J}else{return null}}};var F={each:function(L,N){var K,M=0,O=L.length,J=O===undefined||m.isFunction(L);if(J){for(K in L){if(N.call(L[K],K,L[K])===false){break}}}else{while(M<O){if(N.call(L[M],M,L[M++])===false){break}}}return L},clone:function(L){var J;if(m.isArray(L)){J=[];for(var K=0;K<L.length;K++){J[K]=arguments.callee(L[K])}return J}else{if(m.isObject(L)){J={};for(var K in L){J[K]=arguments.callee(L[K])}return J}else{return L}}},cover:function(){var N,R,M,Q,K,P,S=arguments[0]||{},O=1,L=arguments.length,J=false;if(typeof S==="boolean"){J=S;S=arguments[1]||{};O=2}if(typeof S!=="object"&&!m.isFunction(S)){S={}}if(L===O){S=this;O=O-1}while(O<L){N=arguments[O];if(N!==null){for(R in N){M=S[R];Q=N[R];if(S===Q){continue}K=m.isArray(Q);if(J&&Q&&(m.isObject(Q)||K)){if(K){K=false;P=M&&m.isArray(M)?M:[]}else{P=M&&m.isObject(M)?M:{}}S[R]=arguments.callee(J,P,Q)}else{if(Q!==undefined){S[R]=Q}}}}O++}return S}};var A=(function(){var J={};if(H.isWebkit()){J.prefix="-webkit-";J.transitionEnd="webkitTransitionEnd"}else{if(H.isGecko()==="gecko"){J.prefix="-moz-";J.transitionEnd="transitionend"}else{J.prefix="";J.transitionEnd="transitionend"}}J.fix=function(N){var O=/^-all-/;if(m.isString(N)){return N.replace(O,this.prefix)}else{if(m.isArray(N)){var L=[];for(var M=0;M<N.length;M++){L.push(N[M].replace(O,this.prefix))}return L}else{if(m.isObject(N)){var K={};for(var M in N){K[M.replace(O,this.prefix)]=m.isString(N[M])?N[M].replace(O,this.prefix):N[M]}return K}else{return N}}}};return J})();z.json=F,z.is=m,z.browser=H,z.prefix=A;z.serialize=x,z.extend=z.json.cover;z.nfn=function(){};var y=function(){this.list=[];this.length=null;this.current=null;this.state="init";this._start=null;this._progress=null;this._complete=null;this.result=null};y.prototype.add=function(K,J,L){if(this.state==="init"){this.list.push({fn:K,parameter:L,error:J||null})}else{throw Error("[rocui]-this queue can not add task when it is not in state of init.")}return this};y.prototype.next=function(J){this._progress&&this._progress.call(this,{total:this.length,runed:this.length-this.list.length,data:J});y._fire.call(this,J);return this};y.prototype.error=function(J){if(this.current){this.current.error&&this.current.error.call(this,result,J,this.current.parameter)}};y.prototype.left=function(){return this.list.length};y.prototype.total=function(){return this.length};y.prototype.run=function(J){if(this.length===null){this._start&&this._start.call(this);this.length=this.list.length}this.state="running";y._fire.call(this,J)};y.prototype.stop=function(){if(this.state==="running"){this.state="stop"}return this};y.prototype.reset=function(){this.length===null;this.state="init";this.result=null;return this};y.prototype.clean=function(){this.list.length=0;this.state="end";this.length=0;this.reuslt=null;return this};y.prototype.isRunning=function(){return this.state==="running"};y.prototype.isEnd=function(){return this.state==="end"};y.prototype.isStop=function(){return this.state==="stop"};y.prototype.start=function(J){J&&(this._start=J);return this};y.prototype.progress=function(J){J&&(this._progress=J);return this};y.prototype.complete=function(J){J&&(this._complete=J);if(this.state==="end"){this._complete.call(this,this.result)}return this};y._fire=function(J){if(this.list.length>0){var K=this.list.shift(),L=this;this.current=K;try{K.fn&&K.fn.call(L,J,K.parameter)}catch(M){console.error(M.message);this.next()}}else{this.state="end";this.result=J;this._complete&&this._complete.call(this,J)}return this};z.queue=function(){return new y()};var f=function(){this.state="waiting";this.list=[];this.result=null;this.current=null;this._complete=null;this._notify=null;this.waits=1;this._completeTimes=0;this._handleTimes=0};f.prototype.add=function(K,J){this.list.push({fn:K,error:J});if(this.state==="waiting"){if(this.list.length===this.waits){f._fire.call(this,this.result)}}return this};f.prototype.size=function(){return this.list.length};f.prototype.wait=function(J){if(arguments.length===0||J===0){J=10000000}this.waits=J;return this};f.prototype.work=function(J){if(this.state==="waiting"){this.waits=1;f.next.call(this,J)}return this};f.prototype.delay=function(J){this.add(function(L){var K=this;setTimeout(function(){K.next(L)},J)});return this};f.prototype.notify=function(J){J&&(this._notify=J);return this};f.prototype.complete=function(J){J&&(this._complete=J);return this};f.prototype.isRunning=function(){return this.state==="running"};f.prototype.isWaiting=function(){return this.state==="waiting"};f.prototype.isHandleAtOnce=function(){if(this.state==="running"&&this.list.length>0){return false}else{return true}};f.prototype.completeTimes=function(){return this._completeTimes};f.prototype.handleTimes=function(){return this._handleTimes};f.prototype.clean=function(){this.list.length=0;this.state="waiting";for(var J in this){this[J]=null}};f.getQueueLite=function(J){return{isRunning:function(){return J.isRunning()},isWaiting:function(){return J.isWaiting()},isHandleAtOnce:function(){return J.isHandleAtOnce()},completeTimes:function(){return J.completeTimes()},handleTimes:function(){return J.handleTimes()},next:function(K){f.next.call(J,K);return J},delay:function(K){J.delay(K);return J},error:function(K){return f.error.call(J,K)},clean:function(){J.clean();return J}}};f.next=function(J){this._notify&&this._notify.call(this,J);f._fire.call(this,J);return this};f.error=function(J){if(this.current){this.current.error&&this.current.error(this,J)}return this};f._fire=function(J){if(this.list.length>0){this.state="running";this._handleTimes=this._handleTimes+1;var K=this.list.shift(),L=f.getQueueLite(this);this.current=K;try{K.fn&&K.fn.call(L,J)}catch(M){console.error(M.message);f.next.call(L,J)}}else{if(this.state==="running"){this.result=J;this.state="waiting";this._completeTimes=this._completeTimes+1;this.current=null}this._complete&&this._complete.call(this,J)}return this};z.dynamicQueue=function(){return new f()};var v=function(K){this.state=0;this.queue=new f();this._finally=null;this._notify=null;this._complete=null;this._result=null;this._scope=null;var J=this;this.queue.complete(function(M){J._result=M;var L=J._finally&&J._finally.call(J,M);if(L instanceof v){L.complete(function(N){J._result=N;J._complete&&J._complete.call(J,N)})}else{J._complete&&J._complete.call(J,M)}}).notify(function(L){J._notify&&J._notify(L)});if(m.isFunction(K)){this.queue.wait();this.done(function(L){return L});K(function(L){J.resolve(L)},function(L){J.reject(L)})}else{if(K){this._result=K;this.state=1;this.queue.add(function(){this.next(K)})}else{this.queue.wait();this.done(function(L){return L})}}};v.prototype.scope=function(J){if(arguments.length===1){this._scope=J;return this}else{return this._scope}};v.prototype.then=function(K,J){v.add.call(this,K,1);v.add.call(this,J,2);return this};v.prototype.wait=function(J){this.queue.add(function(L){var K=this;J.call(K,function(M){K.next(M)},L)});return this};v.prototype.done=function(J){v.add.call(this,J,1);return this};v.prototype.fail=function(J){v.add.call(this,J,2);return this};v.prototype.always=function(J){m.isFunction(J)&&(this._finally=J);return this};v.prototype.reject=function(J){this.state=2;this.queue.work(J);return this};v.prototype.resolve=function(J){this.state=1;this.queue.work(J);return this};v.prototype.notify=function(J){m.isFunction(J)&&(this._notify=J);return this};v.prototype.complete=function(J){m.isFunction(J)&&(this._complete=J);return this};v.prototype.delay=function(J){this.queue.delay(J);return this};v.prototype.clean=function(){this.queue.clean();for(var J in this){this[J]=null}};v.add=function(J,K){var L=this;if(J&&m.isFunction(J)){this.queue.add(function(N){var M=this;setTimeout(function(){if(L.state===K){var O;if(L._scope){O=J&&J.call(L._scope,N)}else{O=J&&J(N)}if(O instanceof v){O.complete(function(P){M.next(P)})}else{M.next(O)}}else{M.next(N)}},0)})}};z.promise=function(J){return new v(J)};z.all=function(){var L=$.promise();if(arguments.length>0){var J=Array.prototype.slice.call(arguments);var K=J.length;J.forEach(function(M){M.complete(function(){if(this.isResolve){K=K-1;if(K===0){L.resolve()}}})})}return L};z.any=function(){var M=$.promise();if(arguments.length>0){var K=Array.prototype.slice.call(arguments);var L=K.length,J=false;K.forEach(function(N){N.complete(function(){L=L-1;if(this.isResolve){J=true}if(L===0&&J){M.resolve()}})})}return M};var C=function(J){this.nodes=[];this.length=0;if(arguments.length===1&&m.isAvalid(J)){if(m.isString(J)){if(G.util.isHTML(J)){this.nodes=G.util.parseHTML(J)}else{this.nodes=G.util.query(window.document,J)}this.length=this.nodes.length}else{if(J instanceof k){this.nodes=J.nodes;this.length=J.length}else{if(m.isWindow(J)||m.isDocument(J)){return new D(J)}else{if(J.nodeType===1){this.nodes=[J];this.length=1}else{this.nodes=[];this.length=0}}}}}else{if(arguments.length===0){this.nodes=[];this.length=0}}};var G={};G.regs={root:/^(?:body|html)$/i,_class:/^\.([\w-]+)$/,_id:/^#([\w-]*)$/,_tag:/^[\w-]+$/,_html:/^\s*<(\w+|!)[^>]*>/,_tagName:/<([\w:]+)/,_property:/-+(.)?/g};G.util={getDom:function(K){var J=new C();if(arguments.length===1){J.nodes=K;J.length=K.length}else{J.nodes=[];J.length=0}return J},isClass:function(J){return G.regs._class.test(J)},isId:function(J){return G.regs._id.test(J)},isTag:function(J){return G.regs._tag.test(J)},isHTML:function(J){return G.regs._html.test(J)},query:function(N,J){var K=null;switch(true){case this.isId(J):var M=document.getElementById(J.substring(1,J.length));K=M?[M]:[];break;case this.isClass(J):var L=N.getElementsByClassName(J.substring(1,J.length));K=Array.prototype.slice.call(L);break;case this.isTag(J):var L=N.getElementsByTagName(J);K=Array.prototype.slice.call(L);break;default:K=Array.prototype.slice.call(N.querySelectorAll(J));break}return K},queryChild:function(L,J){var M=L.getAttribute("id");if(!M||M===""){M="__roc__";L.setAttribute("id",M)}J="#"+M+">"+J;var K=G.util.query(L,J);if(M==="__roc__"){L.removeAttribute("id")}return K},repairTags:{area:{l:1,s:"<map>",e:""},param:{l:1,s:"<object>",e:""},col:{l:2,s:"<table><tbody></tbody><colgroup>",e:"</table>"},legend:{l:1,s:"<fieldset>"},option:{l:1,s:"<select multiple='multiple'>",e:""},thead:{l:1,s:"<table>",e:"</table>"},tr:{l:2,s:"<table><tbody>",e:""},td:{l:3,s:"<table><tbody><tr>",e:""},_general:{s:"",e:"",l:0}},parseHTML:function(M){var J=M.match(G.regs._tagName),N=G.util.repairTags[(J?J[1]:"_general")]||G.util.repairTags._general;var O=document.createElement("DIV");O.innerHTML=N.s+M+N.e;var L=O;for(var K=0;K<N.l;K++){L=L.firstChild}return Array.prototype.slice.call(L.childNodes)},parseFlagment:function(M){var K=G.util.parseHTML(M);var J=window.document.createDocumentFragment();for(var L in K){J.appendChild(K[L])}return J},propertyName:function(J){return J.replace(G.regs._property,function(L,M,K){if(K===0){return L.substring(1,2)}else{return M?M.toUpperCase():""}})},cleanNode:function(L){if(L){if(L.datasets){for(var K in L.datasets){var N=L.datasets[K];if(N&&N.clean){N.clean()}L.datasets[K]=null}L.datasets=null}B.util.unbindnode(L);var P=L.getElementsByClassName("incache");for(var O in P){if(P[O].nodeType){for(var J in P[O].datasets){var M=P[O].datasets[J];if(M&&M.clean){M.clean()}P[O].datasets[J]=null}P[O].datasets=null;B.util.unbindnode(P[O])}}}},supported:function(J){if(arguments.length===1){return m.isString(J)||J instanceof C||m.isWindow(J)||m.isDocument(J)||J.nodeType===1}else{return false}}};var E=function(J){this.dom=J;this.mapping={};E.init.call(this);this.dom.get(0).addEventListener(A.transitionEnd,E.fn,false);this.dom.data("_transition_",this)};E.fn=function(L){var K=$(L.currentTarget).data("_transition_");var J=L.propertyName;if(K.mapping[J]){if(K.mapping[J].promise){K.mapping[J].promise.resolve()}}else{if(K.mapping.all){if(K.mapping.all.promise){K.mapping.all.promise.resolve()}}}};E.setCss=function(){var L="",K="";for(var J in this.mapping){if(this.mapping[J]){L+=J+" "+this.mapping[J].time+"ms "+this.mapping[J].type+" "+this.mapping[J].delay+"ms,"}}if(L.length>0){L=L.substring(0,L.length-1)}else{L="none"}this.dom.css(A.prefix+"transition",L)};E.init=function(){var L=this.dom.css("-all-transition-timing-function").split(",");var J=this.dom.css("-all-transition-delay").split(",");var M=this.dom.css("-all-transition-duration").split(",");var N=this.dom.css("-all-transition-property").split(",");for(var K=0;K<N.length;K++){if(N[K]!=="all"){this.mapping[N[K]]={property:N[K],time:parseFloat(M[K])*1000,type:L[K],delay:parseFloat(J[K])*1000,fn:null}}}};E.prototype.set=function(M,O){var N={time:300,type:"ease-out",delay:0};var K=new v();K.scope(this.dom);z.extend(N,O);var J=A.fix(M.split(","));for(var L=0;L<J.length;L++){var P=J[L];if(P!=="all"){this.mapping[P]={property:P,time:N.time,type:N.type,delay:N.delay,promise:K}}else{this.mapping={all:{property:P,time:N.time,type:N.type,delay:N.delay,promise:K}};break}}E.setCss.call(this);return K};E.prototype.all=function(L){var K={time:300,type:"ease-out",delay:0};var J=new v();J.scope(this.dom);z.extend(K,L);this.mapping={all:{property:"all",time:K.time,type:K.type,delay:K.delay,promise:J}};E.setCss.call(this);return J};E.prototype.get=function(K){var J=this.mapping[A.fix(K)];if(J){return{type:J.type,time:J.time,delay:J.delay,property:K}}return J};E.prototype.remove=function(L){var J=A.fix(L.split(","));for(var K=0;K<J.length;K++){this.mapping[J[K]]&&(this.mapping[J[K]]=null)}E.setCss.call(this);return this};E.prototype.removeAll=function(){this.mapping={};E.setCss.call(this);return this};E.prototype.dom=function(){return this.dom};E.prototype.clean=function(){this.dom.get(0).removeEventListener(A.transitionEnd,E.fn,false);for(var J in this){this[J]=null}};var r=function(K,J){this.dom=K;this.attrs=J.length===0?["translate"]:J;r.init.call(this);r.defaultValue.call(this);K.data("_transform_",this)};r.parse=function(){var K=this.dom.css(A.prefix+"transform");var J=K.match(/(-?[0-9\.]+)/g);if(J){if(J.length>6){J.shift()}for(var L=0;L<J.length;L++){J[L]=J[L]/1}}return J};r.defaultValue=function(){var Z={translate:[0,0],translate3d:[0,0,0],translateX:0,translateY:0,translateZ:0,rotate:0,rotateX:0,rotateY:0,rotateZ:0,rotate3d:[0,0,0,1],scale:[1,1],scaleX:1,scaleY:1,scaleZ:1,scale3d:[1,1,1],skew:[0,0],skewX:0,skewY:0};var P=r.parse.call(this);if(P){if(P[0]!==1){var V=this.dom.get(0),S=V.style.webkitTransform||V.style.mozTransform||V.style.msTransform||V.style.transform;if(S||S===""){var R=document.styleSheets;V.matches=V.matches||V.webkitMatchesSelector||V.mozMatchesSelector||V.msMatchesSelector;for(var Q in R){var Y=R[Q].rules||R[Q].cssRules;for(var J in Y){if(V.matches(Y[J].selectorText)){S=Y[J].style.webkitTransform||Y[J].style.mozTransform||Y[J].style.msTransform||Y[J].style.transform}}}}if(S&&S!==""){var U=[],X=[],K="",W="",N=true;for(var Q=0;Q<S.length;Q++){var T=S[Q];if(T!=="("&&T!==")"){if(N){K+=T}else{W+=T}}else{if(T==="("){U.push(K.trim());K="";N=false}else{if(T===")"){X.push(W.trim());W="";N=true}}}}for(var Q=0;Q<U.length;Q++){var M="";if(X[Q].indexOf(",")!==-1){var L=X[Q].split(",");for(var O=0;O<L.length;O++){L[O]=parseFloat(L[O])}M=L}else{M=parseFloat(X[Q])}Z[U[Q]]=M}}}if(P.length===6){Z.translate3d=[P[4],P[5],0];Z.translateX=P[4];Z.translateY=P[5]}else{Z.translate3d=[P[12],P[13],P[14]];Z.translateX=P[12];Z.translateY=P[13];Z.translateZ=P[14]}}this.values=Z};r.init=function(){this.setter=[];this.attrs.indexOf("translate")!==-1&&this.setter.push(function(){return"translate3d("+(m.isNumber(this.values.translate3d[0])?this.values.translate3d[0]+"px":this.values.translate3d[0])+","+(m.isNumber(this.values.translate3d[1])?this.values.translate3d[1]+"px":this.values.translate3d[1])+","+(m.isNumber(this.values.translate3d[2])?this.values.translate3d[2]+"px":this.values.translate3d[2])+")"});this.attrs.indexOf("rotate3d")!==-1&&this.setter.push(function(){var J=this.values.rotate3d.join("")!=="0000"?"rotate3d("+this.values.rotate3d[0]+","+this.values.rotate3d[1]+","+this.values.rotate3d[2]+","+this.values.rotate3d[3]+"deg)":"";J+=(this.values.rotateX!==0?" rotateX("+this.values.rotateX+"deg)":"");J+=(this.values.rotateY!==0?" rotateY("+this.values.rotateY+"deg)":"");J+=(this.values.rotateZ!==0?" rotateZ("+this.values.rotateZ+"deg)":"");return J});this.attrs.indexOf("scale3d")!==-1&&this.setter.push(function(){var J=this.values.scale3d.join("")!=="111"?"scale3d("+this.values.scale3d[0]+","+this.values.scale3d[1]+","+this.values.scale3d[2]+")":"";J+=this.values.scaleX!==1?" scaleX("+this.values.scaleX+")":"";J+=this.values.scaleY!==1?" scaleY("+this.values.scaleY+")":"";J+=this.values.scaleZ!==1?" scaleZ("+this.values.scaleZ+")":"";return J});this.attrs.indexOf("scale")!==-1&&this.setter.push(function(){return this.values.scale.join("")!=="11"?"scale("+this.values.scale[0]+","+this.values.scale[1]+")":""});this.attrs.indexOf("skew")!==-1&&this.setter.push(function(){return this.values.skew.join("")!=="00"?"skew("+this.values.skew[0]+"deg,"+this.values.skew[1]+"deg)":""});this.attrs.indexOf("rotate")!==-1&&this.setter.push(function(){return this.values.rotate!==0?"rotate("+this.values.rotate+"deg)":""})};r.set=function(){var K="";for(var J in this.setter){K+=this.setter[J].call(this)+" "}this.dom.css(A.prefix+"transform",K)};r.translate=function(L,K,J){if(arguments.length===2){var N=this.values.translate3d[L];if(!/^[0-9\.]*$/.test(N)){var M=r.parse.call(this);if(M.length===6){this.values.translate3d=[M[4],M[5],0];this.values.translateX=M[4];this.values.translateY=M[5]}else{this.values.translate3d=[M[12],M[13],M[14]];this.values.translateX=M[12];this.values.translateY=M[13];this.values.translateZ=M[14]}}return this.values.translate3d[L]}else{this.values.translate3d[L]=J;this.values.translate[L]=J;this.values[K]=J;r.set.call(this);return this}};r.sett=function(K,J,L){if(arguments.length===2){return this.values[K]}else{(L===undefined||L===null)&&(L=J);this.values[K]=L;r.set.call(this);return this}};r.prototype.matrix=function(){return r.parse.call(this)};r.prototype.sets=function(J){for(var K in J){if(this.values[K]!==undefined){this.values[K]=J[K]}}r.set.call(this);return this};r.prototype.scale=function(J,K){if(arguments.length===0){return this.values.scale}else{(J===undefined||J===null)&&(J=1),(K===undefined||K===null)&&(K=1);this.values.scale[0]=J;this.values.scale[1]=K;r.set.call(this);return this}};r.prototype.rotate=function(J){if(arguments.length===0){return this.values.rotate}else{(J===undefined||J===null)&&(J=0);this.values.rotate=J;r.set.call(this);return this}};r.prototype.scale3d=function(J,L,K){if(arguments.length===0){return this.values.scale3d}else{(J===undefined||J===null)&&(J=1),(L===undefined||L===null)&&(L=1),(K===undefined||K===null)&&(K=1);this.values.scale3d[0]=J;this.values.scale3d[1]=L;this.values.scale3d[2]=K;r.set.call(this);return this}};r.prototype.rotate3d=function(J,M,L,K){if(arguments.length===0){return this.values.rotate3d}else{(J===undefined||J===null)&&(J=0),(M===undefined||M===null)&&(M=0),(L===undefined||L===null)&&(L=0),(K===undefined||K===null)&&(K=0);this.values.rotate3d[0]=J;this.values.rotate3d[1]=M;this.values.rotate3d[2]=L;this.values.rotate3d[3]=K;r.set.call(this);return this}};r.prototype.skew=function(J,K){if(arguments.length===0){return this.values.skew}else{(J===undefined||J===null)&&(J=1),(K===undefined||K===null)&&(K=1);this.values.skew[0]=J;this.values.skew[1]=K;r.set.call(this);return this}};r.prototype.x=function(J){return r.translate.apply(this,arguments.length===0?[0,"translateX"]:[0,"translateX",J])};r.prototype.y=function(J){return r.translate.apply(this,arguments.length===0?[1,"translateY"]:[1,"translateY",J])};r.prototype.z=function(J){return r.translate.apply(this,arguments.length===0?[2,"translateZ"]:[2,"translateZ",J])};r.prototype.scaleX=function(J){return r.sett.apply(this,arguments.length===0?["scaleX",1,J]:["scaleX",1,J])};r.prototype.scaleY=function(J){return r.sett.apply(this,arguments.length===0?["scaleY",1,J]:["scaleY",1,J])};r.prototype.scaleZ=function(J){return r.sett.apply(this,arguments.length===0?["scaleZ",1,J]:["scaleZ",1,J])};r.prototype.rotateX=function(J){return r.sett.apply(this,arguments.length===0?["rotateX",0,J]:["rotateX",0,J])};r.prototype.rotateY=function(J){return r.sett.apply(this,arguments.length===0?["rotateY",0,J]:["rotateY",0,J])};r.prototype.rotateZ=function(J){return r.sett.apply(this,arguments.length===0?["rotateZ",0,J]:["rotateZ",0,J])};r.prototype.skewX=function(J){return r.sett.apply(this,arguments.length===0?["skewX",0,J]:["skewX",0,J])};r.prototype.skewY=function(J){return r.sett.apply(this,arguments.length===0?["skewY",0,J]:["skewY",0,J])};r.prototype.origin=function(K,J){if(arguments.length===0){var K=this.dom.css(A.prefix+"transform-origin").split(" ");return{x:K[0],y:K[1]}}else{if(arguments.length===2){return this.dom.css(A.prefix+"transform-origin",K+" "+J)}}};r.prototype.style=function(J){if(arguments.length===0){return this.dom.css(A.prefix+"transform-style")}else{this.dom.css(A.prefix+"transform-style",J);return this}};r.prototype.perspective=function(J){if(arguments.length===0){return this.dom.css(A.prefix+"perspective")}else{this.dom.css(A.prefix+"perspective",J);return this}};r.prototype.perspectiveOrigin=function(){if(arguments.length===0){var J=this.dom.css(A.prefix+"perspective-origin").split(" ");return{x:J[0],y:J[1]}}else{if(arguments.length===2){return this.dom.css(A.prefix+"perspective-origin",J+" "+b)}}};r.prototype.backface=function(){if(arguments.length===0){return this.dom.css(A.prefix+"backface-visibility")}else{this.dom.css(A.prefix+"backface-visibility",a);return this}};r.prototype.clean=function(){for(var J in this){this[J]=null}};r.prototype.dom=function(){return this.dom};var k=function(){};k.prototype.get=function(J){J=J/1;if(m.isAvalid(J)&&J>=0&&J<this.nodes.length){return this.nodes[J]}else{return null}};k.prototype.ready=function(K){var J=/complete|loaded/;if(J.test(window.document.readyState)){K&&K()}else{window.document.addEventListener("DOMContentLoaded",function(){K&&K()},false)}return this};k.prototype.find=function(J){var K=[];if(!this.isEmpty()){if(m.isString(J)){K=G.util.query(this.nodes[0],J)}}return G.util.getDom(K)};k.prototype.children=function(J){var K=[];if(!this.isEmpty()){if(m.isString(J)){K=G.util.queryChild(this.nodes[0],J)}else{if(arguments.length===1&&J>=0){K=this.nodes[0].children[J]?[this.nodes[0].children[J]]:[]}else{K=Array.prototype.slice.call(this.nodes[0].children)}}}return G.util.getDom(K)};k.prototype.siblings=function(J){var M=[];if(!this.isEmpty()){var K=[];if(m.isString(J)&&this.nodes[0].parentNode){K=G.util.queryChild(this.nodes[0].parentNode,J)}else{K=this.nodes[0].parentNode?Array.prototype.slice.call(this.nodes[0].parentNode.children):[]}for(var L=0;L<K.length;L++){if(K[L]!==this.nodes[0]){M.push(K[L])}}}return G.util.getDom(M)};k.prototype.has=function(J){var M=[];for(var L=0;L<this.nodes.length;L++){var K=G.util.queryChild(this.nodes[L],J);if(K.length>0){M.push(this.nodes[L])}}return G.util.getDom(M)};k.prototype.filter=function(J){var M=[];if(!this.isEmpty()){var K=G.util.query(window.document,J);if(K.length>0){for(var L=0;L<this.nodes.length;L++){(K.indexOf(this.nodes[L])!==-1)&&M.push(this.nodes[L])}}}return G.util.getDom(M)};k.prototype.first=function(){var J=[];if(!this.isEmpty()){J.push(this.get(0))}return G.util.getDom(J)};k.prototype.last=function(){var J=[];if(this.nodes.length>0){J.push(this.get(this.length-1))}return G.util.getDom(J)};k.prototype.parent=function(){var K=arguments[0],L=[];if(!this.isEmpty()){if(m.isString(K)){var N=G.util.query(window.document,K);var J=this.nodes[0].parentNode;while(J&&!m.isDocument(J)){if(N.indexOf(J)!==-1){L.push(J);break}J=J.parentNode}}else{if(m.isNumber(K)&&K>0){var J=this.nodes[0].parentNode,M=K-1;while(J&&!m.isDocument(J)&&M>0){M--;J=J.parentNode}L.push(J)}else{this.nodes[0].parentNode&&L.push(this.nodes[0].parentNode)}}}return G.util.getDom(L)};k.prototype.parents=function(){var K=arguments[0],L=[];if(!this.isEmpty()){var J=this.nodes[0].parentNode;while(J&&!m.isDocument(J)){L.push(J);J=J.parentNode}if(m.isString(K)){var M=G.util.query(window.document,K);L=L.filter(function(N){if(M.indexOf(N)!==-1){return true}})}}return G.util.getDom(L)};k.prototype.next=function(){var K=[];if(!this.isEmpty()){var J=this.nodes[0].nextSibling;while(J&&J.nodeType!==1){J=J.nextSibling}J&&K.push(J)}return G.util.getDom(K)};k.prototype.nexts=function(J){var M=[],L=this;if(!this.isEmpty()){var K=this.nodes[0].nextSibling;while(K){if(K.nodeType===1){M.push(K)}K=K.nextSibling}if(m.isString(J)&&this.nodes[0].parentNode){var N=G.util.queryChild(this.nodes[0].parentNode,J);M=M.filter(function(O){if(N.indexOf(O)!==-1&&O!==L.nodes[0]){return true}})}}return G.util.getDom(M)};k.prototype.prev=function(){var K=[];if(!this.isEmpty()){var J=this.nodes[0].previousSibling;while(J&&J.nodeType!==1){J=J.previousSibling}J&&K.push(J)}return G.util.getDom(K)};k.prototype.prevs=function(J){var M=[],L=this;if(!this.isEmpty()){var K=this.nodes[0].previousSibling;while(K){if(K.nodeType===1){M.push(K)}K=K.previousSibling}if(m.isString(J)&&this.nodes[0].parentNode){var N=G.util.queryChild(this.nodes[0].parentNode,J);M=M.filter(function(O){if(N.indexOf(O)!==-1&&O!==L.nodes[0]){return true}})}}return G.util.getDom(M)};k.prototype.eq=function(J){var K=[];if(J>=0&&J<this.nodes.length){K.push(this.nodes[J])}return G.util.getDom(K)};k.prototype.each=function(K){if(K){for(var J=0;J<this.nodes.length;J++){if(K.call(this.nodes[J],J,this.nodes[J],this.nodes.length)===false){break}}}return this};k.prototype.remove=function(){var K=arguments[0];if(K&&m.isNumber(K)&&K<this.nodes.length){var J=this.nodes[K];if(J){G.util.cleanNode(J);J.parentNode.removeChild(J)}}else{if(m.isString(K)){var M=G.util.query(window.document,K);for(var L=0;L<this.nodes.length;L++){if(M.indexOf(this.nodes[L]!==-1)){this.nodes[L].parentNode&&this.nodes[L].parentNode.removeChild(this.nodes[L])}}}else{for(var L=0;L<this.nodes.length;L++){var J=this.nodes[L];if(J){G.util.cleanNode(J);J.parentNode.removeChild(J)}}}}return this};k.prototype.empty=function(){for(var K=0;K<this.nodes.length;K++){var L=this.nodes[K].children;for(var J=0;J<L.length;J++){L[J].nodeType&&G.util.cleanNode(L[J])}this.nodes[K].innerHTML=""}};k.prototype.clean=function(){for(var J=0;J<=this.nodes.length;J++){G.util.cleanNode(this.nodes[J])}this.nodes=null;this.length=0};k.prototype.clone=function(){var J=[];if(!this.isEmpty()){J.push(this.nodes[0].cloneNode(true))}return G.util.getDom(J)};k.prototype.wrap=function(K){for(var L=0;L<this.nodes.length;L++){var M=null;if(m.isString(K)){M=G.util.parseHTML(K)[0]||null}else{if(K instanceof k){M=C.nodes[0]}else{if(K.nodeType){M=K}else{if(m.isFunction(K)){var J=K();m.isString(J)&&(M=G.util.parseHTML(K)[0]||null)}}}}if(M){var N=this.nodes[L];if(N.parentNode){N.parentNode.replaceChild(M,N);M.appendChild(N)}}}return this};k.prototype.append=function(){var J=arguments[0];if(!this.isEmpty()){if(m.isString(J)){var K=G.util.parseFlagment(J);for(var L=0;L<this.nodes.length;L++){this.nodes[L].appendChild(K.cloneNode(true))}}else{if(J instanceof k){for(var L=0;L<this.nodes.length;L++){this.nodes[L].appendChild(J.nodes[0])}}else{if(J&&J.nodeType){for(var L=0;L<this.nodes.length;L++){this.nodes[L].appendChild(J)}}else{if(m.isFunction(J)){for(var L=0;L<this.nodes.length;L++){var M=J.call(this.nodes[L],L,this.nodes[L].innerHTML);G.util.isHTML(M)&&this.nodes[L].appendChild(G.util.parseFlagment(M))}}}}}}return this};k.prototype.appendTo=function(K){if(!this.isEmpty()){if(m.isString(K)){var J=G.util.query(window.document,K);J.length>0&&J[0].appendChild(this.nodes[0])}else{if(K instanceof k){K.length>0&&K.nodes[0].appendChild(this.nodes[0])}else{K.appendChild(this.nodes[0])}}}return this};k.prototype.insertBefore=function(J){if(!this.isEmpty()){if(m.isString(J)){var K=G.util.query(window.document,J)[0];K&&K.parentNode&&K.parentNode.insertBefore(this.nodes[0],K)}else{if(J instanceof k){!J.isEmpty()&&J.parent().get(0).insertBefore(this.nodes[0],J.get(0))}else{J.parentNode&&J.parentNode.insertBefore(this.nodes[0],J)}}}return this};k.prototype.insertAfter=function(J){if(!this.isEmpty()){var K=null;if(m.isString(J)){var K=G.util.query(window.document,J)[0]||null}else{if(J instanceof k){K=J.nodes[0]||null}else{if(J.nodeType){K=J}}}if(K){if(K.nextSibling){K.parentNode.insertBefore(this.nodes[0],K.nextSibling)}else{K.parentNode.appendChild(this.nodes[0])}}}return this};k.prototype.prepend=function(){var J=arguments[0];if(!this.isEmpty()){if(m.isString(J)){var K=G.util.parseFlagment(J);for(var L=0;L<this.nodes.length;L++){if(this.nodes[L].childNodes.length!==0){this.nodes[L].insertBefore(K.cloneNode(true),this.nodes[L].firstChild)}else{this.nodes[L].appendChild(K.cloneNode(true))}}}else{if(m.isFunction(J)){for(var L=0;L<this.nodes.length;L++){var M=J.call(this.nodes[L],L,this.nodes[L].innerHTML);if(G.util.isHTML(M)){if(this.nodes[L].childNodes.length>0){this.nodes[L].insertBefore(G.util.parseFlagment(M),this.nodes[L].firstChild)}else{this.nodes[L].appendChild(G.util.parseFlagment(M))}}}}}}return this};k.prototype.prependTo=function(K){if(!this.isEmpty()){if(m.isString(K)){var J=G.util.query(window.document,K);if(J.length>0){if(J[0].childNodes.length>0){J[0].insertBefore(this.nodes[0],J[0].firstChild)}else{J[0].appendChild(this.nodes[0])}}}else{if(K instanceof k){if(!K.isEmpty()){if(K.nodes[0].childNodes.length>0){K.nodes[0].insertBefore(this.nodes[0],K.nodes[0].firstChild)}else{K.nodes[0].appendChild(this.nodes[0])}}}else{if(K.nodeType===1){if(K.children.length>0){K.insertBefore(this.nodes[0],K.firstChild)}else{K.appendChild(this.nodes[0])}}}}}return this};k.prototype.before=function(J){if(!this.isEmpty()&&this.nodes[0].parentNode){if(m.isString(J)){var K=G.util.parseFlagment(J);this.nodes[0].parentNode&&this.nodes[0].parentNode.insertBefore(K,this.nodes[0])}else{if(J instanceof C){this.nodes[0].parentNode&&this.nodes[0].parentNode.insertBefore(J.nodes[0],this.nodes[0])}else{if(J.nodeType){this.nodes[0].parentNode&&this.nodes[0].parentNode.insertBefore(J,this.nodes[0])}}}}return this};k.prototype.after=function(J){if(!this.isEmpty()){var K=null;if(m.isString(J)){K=G.util.parseFlagment(J)}else{if(J instanceof k){K=J.get(0)}else{if(J.nodeType){K=J}}}if(this.nodes[0].nextSibling){this.nodes[0].parentNode&&this.nodes[0].parentNode.insertBefore(K,this.nodes[0].nextSibling)}else{this.nodes[0].parentNode&&this.nodes[0].parentNode.appendChild(K)}}return this};k.prototype.replaceWith=function(J){if(!this.isEmpty()){var K=null;if(m.isString(J)){K=G.util.query(window.document,J)[0]}else{if(J instanceof k){K=J.nodes[0]}else{if(J.nodeType){K=J}}}if(K){K.parentNode.replaceChild(this.nodes[0],K)}}return this};k.prototype.equal=function(J){return this===J};k.prototype.same=function(J){var L=true;J=z(J);if(this.length===J.length){for(var K=0;K<this.nodes.length;K++){if(J.nodes.indexOf(this.nodes[K])===-1){L=false;break}}}else{L=false}return L};k.prototype.css=function(K,J){var N=this;if(!this.isEmpty()){if(arguments.length===1&&m.isObject(K)){K=A.fix(K);for(var M=0;M<this.nodes.length;M++){var O=this.nodes[M].style.cssText+";";for(var L in K){O+=L+":"+K[L]+";"}this.nodes[M].style.cssText=O}}else{if(arguments.length===1&&m.isString(K)){K=A.fix(K);N=window.getComputedStyle(this.nodes[0],"").getPropertyValue(K)}else{if(arguments.length===2){for(var M in this.nodes){var P=A.fix(K);this.nodes[M].style[G.util.propertyName(P)]=J}}}}}return N};k.prototype.attr=function(K,J){var N=this;if(!this.isEmpty()){if(arguments.length===2){if(K!==""){for(var M=0;M<this.nodes.length;M++){this.nodes[M].setAttribute(K,J)}}}else{if(arguments.length===1){if(m.isObject(K)){for(var L=0;L<this.nodes.length;L++){for(var M in K){if(M!==""){this.nodes[L].setAttribute(M,K[M])}}}}else{if(K){N=this.nodes[0].getAttribute(K)}}}}}return N};k.prototype.removeAttr=function(J){for(var K=0;K<this.nodes.length;K++){this.nodes[K].removeAttribute(J)}return this};k.prototype.data=function(K,J){var M=null;if(!this.isEmpty()){if(arguments.length===1){if(!this.nodes[0].datasets){this.nodes[0].datasets={}}if(m.isString(K)){if(this.nodes[0].datasets[K]!==undefined&&this.nodes[0].datasets[K]!==null){M=this.nodes[0].datasets[K]}}else{if(m.isObject(K)){z.extend(this.nodes[0].datasets,K)}}}else{if(arguments.length===2){this.addClass("incache");for(var L in this.nodes){if(!this.nodes[L].datasets){this.nodes[L].datasets={}}this.nodes[L].datasets[K]=J}M=this}}}return M};k.prototype.removeData=function(J){if(!this.isEmpty()){if(arguments.length===1){this.data(J,null)}}return this};k.prototype.dataset=function(J,M){var L=this;if(this.nodes.length>0){if(arguments.length===1){if(m.isString(J)){L=this.nodes[0].dataset[J]}else{if(m.isObject(J)){for(var K in J){this.nodes[0].dataset[K]=J[K]}}}}else{if(arguments.length===2){for(var K in this.nodes){this.nodes[K].dataset[J]=M}}else{if(arguments.length===0){L=this.nodes[0].dataset}}}}return L};k.prototype.create=function(J,K){if(J){if(K){this.nodes=[window.document.createElementNS(K,J)]}else{this.nodes=[window.document.createElement(J)]}}else{this.nodes=[window.document.createDocumentFragment()]}this.length=this.nodes.length;return this};k.prototype.element=function(J,K){if(J){if(K){this.nodes=[window.document.createElementNS(K,J)]}else{this.nodes=[window.document.createElement(J)]}}else{this.nodes=[window.document.createDocumentFragment()]}this.length=this.nodes.length;return this};k.prototype.width=function(J){if(arguments.length===1){if(m.isNumber(J)){J=J+"px"}this.css("width",J);return this}else{return this.nodes[0].offsetWidth}};k.prototype.height=function(J){if(arguments.length===1){if(m.isNumber(J)){J=J+"px"}this.css("height",J);return this}else{return this.nodes[0].offsetHeight}};k.prototype.offset=function(){if(!this.isEmpty()){var J=this.nodes[0].getBoundingClientRect();return{left:J.left+window.pageXOffset,top:J.top+window.pageYOffset,width:J.width,height:J.height}}else{return null}};k.prototype.hide=function(){for(var J=0;J<this.nodes.length;J++){var K=window.getComputedStyle(this.nodes[J],"").getPropertyValue("display");if(K!=="none"){this.nodes[J].setAttribute("ds",K);this.nodes[J].style.display="none"}}return this};k.prototype.show=function(){for(var K=0;K<this.nodes.length;K++){var L=window.getComputedStyle(this.nodes[K],"").getPropertyValue("display");if(L==="none"){var J=this.nodes[K].getAttribute("ds");if(J){this.nodes[K].removeAttribute("ds");this.nodes[K].style.display=J}else{this.nodes[K].style.display="block"}}}return this};k.prototype.html=function(J){var L=this;if(!this.isEmpty()){if(arguments.length===1){for(var K=0;K<this.nodes.length;K++){this.nodes[K].innerHTML=J}}else{L=this.nodes[0].innerHTML}}return L};k.prototype.outer=function(){if(!this.isEmpty()){return this.nodes[0].outerHTML}return""};k.prototype.text=function(L){var K=this;if(!this.isEmpty()){if(arguments.length===1){for(var J=0;J<this.nodes.length;J++){this.nodes[J].innerText=L}}else{K=this.nodes[0].innerText}}return K};k.prototype.val=function(J){var L=this;if(!this.isEmpty()){if(arguments.length===1){for(var K=0;K<this.nodes.length;K++){this.nodes[K].value=J}}else{L=this.nodes[0].value}}return L};k.prototype.addClass=function(J){if(!this.isEmpty()){if(this.nodes[0].classList){for(var K in this.nodes){this.nodes[K].classList.add(J)}}else{for(var K in this.nodes){if(this.nodes[K].className.indexOf(J)===-1){this.nodes[K].className=this.nodes[K].className+" "+J}}}}return this};k.prototype.removeClass=function(J){if(!this.isEmpty()){if(this.nodes[0].classList){this.nodes[0].classList.remove(J)}else{if(this.nodes[0].className.indexOf(J)!==-1){var L=new RegExp("(\\s|^)"+J+"(\\s|$)");for(var K in this.nodes){this.nodes[K].className=this.nodes[K].className.replace(L," ")}}}}return this};k.prototype.contains=function(K){if(!this.isEmpty()){var J=z(K);if(!J.isEmpty()){return this.nodes[0].contains(J.nodes[0])}}return false};k.prototype.contain=function(J){return this.same(J)||this.contains(J)};k.prototype.hasClass=function(J){var K=false;if(!this.isEmpty()){if(this.nodes[0].classList){K=this.nodes[0].classList.contains(J)}else{K=this.nodes[0].className.indexOf(J)===-1}}return K};k.prototype.toggleClass=function(J){if(!this.isEmpty()){if(this.nodes[0].classList){this.nodes[0].classList.toggle(J)}else{if(this.nodes[0].className.indexOf(J)!==-1){var L=new RegExp("(\\s|^)"+J+"(\\s|$)");for(var K in this.nodes){this.nodes[K].className=this.nodes[K].className.replace(L," ")}}else{for(var K in this.nodes){this.nodes[K].className=this.nodes[K].className+" "+J}}}}return this};k.prototype.scrollTop=function(L){var J=this;if(arguments.length===0){if(!this.isEmpty()){J=("scrollTop" in this.nodes[0])?this.nodes[0].scrollTop:this.nodes[0].scrollY}else{J=null}}else{for(var K in this.nodes){if("scrollTop" in this.nodes[K]){this.nodes[K].scrollTop=L}else{this.nodes[K].scrollY=L}}}return J};k.prototype.scrollLeft=function(L){var J=this;if(arguments.length===0){if(!this.isEmpty()){J=("scrollLeft" in this.nodes[0])?this.nodes[0].scrollLeft:this.nodes[0].scrollX}else{J=null}}else{for(var K in this.nodes){if("scrollLeft" in this.nodes[K]){this.nodes[K].scrollLeft=L}else{this.nodes[K].scrollX=L}}}return J};k.prototype.click=function(J){if(arguments.length===1){this.bind("click",J)}else{this.trigger("click")}return this};k.prototype.load=function(J){if(arguments.length===1){this.bind("load",J)}else{this.trigger("load")}return this};k.prototype.trigger=function(J,K){return B.util.trigger(this,J,K)};k.prototype.bind=function(K,J){return B.util.bind(this,K,J)};k.prototype.unbind=function(K,J){return B.util.unbind(this,K,J)};k.prototype.isEmpty=function(J){if(arguments.length===0){return this.nodes.length===0}else{if(m.isFunction(J)){J.call(this,this.nodes.length===0);return this}return this}};k.prototype.isWrapper=function(){return this instanceof k};k.prototype.add=function(J){var K=z(J);this.nodes=this.nodes.concat(K.nodes);this.length=this.nodes.length;return this};k.prototype.prop=function(J,L){for(var K=0;K<this.nodes.length;K++){var M=this.nodes[K][J];if(M!==undefined){if(m.isFunction(L)){this.nodes[K][J]=L.call(this.nodes[K],K,M)}else{this.nodes[K][J]=L}}}return this};k.prototype.position=function(K,J){if(arguments.length===0){var K=this.offsetParent();if(K.length>0&&!m.isDocument(K.get(0))){return{left:this.css("left"),top:this.css("top")}}else{return this.offset()}}else{K&&this.css("left",K);J&&this.css("top",J);return this}};k.prototype.offsetParent=function(){var K=[];if(!this.isEmpty()){if(this.nodes[0].offsetParent===undefined){var J=this.nodes[0].parentNode;while(J&&!G.regs.root.test(J.nodeName)&&window.getComputedStyle(J,"").getPropertyValue("position")==="static"){J=J.parentNode}K.push(J)}else{K.push(this.nodes[0].offsetParent)}}return G.util.getDom(K)};k.prototype.scrollingLeft=function(N,L,K){var M=z.promise().scope(this),J=this;if(this.scrollLeft()!==N){new h({from:this.scrollLeft(),to:N,during:L,fn:K,onrunning:function(O){J.scrollLeft(O)},onend:function(){M.resolve()}}).start()}else{M.resolve()}return M};k.prototype.scrollingTop=function(M,L,K){var N=z.promise().scope(this),J=this;if(this.scrollTop()!==M){new h({from:this.scrollTop(),to:M,during:L,fn:K,onrunning:function(O){J.scrollTop(O)},onend:function(){N.resolve()}}).start()}else{N.resolve()}return N};k.prototype.transition=function(){var J=this.data("_transition_");if(!J){J=new E(this)}return J};k.prototype.animate=function(K,O){var M=this;var L=this.data("_animate_");var J={duration:350,delay:0,type:"ease-out"};z.extend(J,O);K=A.fix(K);var Q="";for(var N in K){Q+=N+" "+J.duration+"ms "+J.type+" "+J.delay+"ms,"}if(Q.length>0){Q=Q.substring(0,Q.length-1)}if(!L){var R=z.promise().scope(M);var P=function(S){M.get(0).removeEventListener(A.transitionEnd,P,false);R.resolve(S)};M.css(A.prefix+"transition",Q).get(0).addEventListener(A.transitionEnd,P,false);M.css(K);M.data("_animate_",R);L=R}else{L.then(function(){var T=z.promise().scope(M);var S=function(U){M.get(0).removeEventListener(A.transitionEnd,S,false);T.resolve(U)};M.css(A.prefix+"transition",Q).get(0).addEventListener(A.transitionEnd,S,false);M.css(K);return T})}return L};k.prototype.transform=function(K){var J=this.data("_transform_");if(!J){J=new r(this,Array.prototype.slice.call(arguments))}return J};C.prototype=new k();var D=function(J){this.obj=J};D.prototype.width=function(){return window.innerWidth};D.prototype.height=function(){return window.innerHeight};D.prototype.bind=function(K,J){if(m.isWindow(this.obj)){window.addEventListener(K,J,false)}else{this.nodes=[this.obj];B.util.bind(this,K,J)}return this};D.prototype.unbind=function(K,J){if(m.isWindow(this.obj)){window.removeEventListener(K,J,false)}else{this.nodes=[this.obj];B.util.bind(this,K,J)}return this};D.prototype.scrollTop=function(K){var J=this;if(arguments.length===0){J=document.body.scrollTop||document.documentElement.scrollTop}else{document.body.scrollTop=K;document.documentElement.scrollTop=K}return J};D.prototype.scrollLeft=function(K){var J=this;if(arguments.length===0){J=document.body.scrollLeft||document.documentElement.scrollLeft}else{document.body.scrollLeft=K}return J};D.prototype.scrollingLeft=function(N,L,K){var M=z.promise().scope(this),J=this;if(this.scrollLeft()!==N){new h({from:this.scrollLeft(),to:N,during:L,fn:K,onrunning:function(O){J.scrollLeft(O)},onend:function(){M.resolve()}}).start()}else{M.resolve()}return M};D.prototype.scrollingTop=function(M,L,K){var N=z.promise().scope(this),J=this;if(this.scrollTop()!==M){new h({from:this.scrollTop(),to:M,during:L,fn:K,onrunning:function(O){J.scrollTop(O)},onend:function(){N.resolve()}}).start()}else{N.resolve()}return N};var B=function(J){this.currentTarget=null;this.target=null;this.timeStamp=new Date().getTime();this.type="";this.cancelable=false;this._stop=false;this.data=J};B.prototype.stopPropagation=function(){this._stop=true};B.prototype.preventDefault=function(){this.cancelable=true};B.trigger=function(L){var K=L.currentTarget.events[L.type];for(var J in K){K[J].call(L.currentTarget,L)}};B.util={types:{HTMLEvents:"load,unload,abort,error,select,change,submit,reset,focus,blur,resize,scroll",MouseEvent:"click,mousedown,mouseup,mouseover,mousemove,mouseout",UIEvent:"DOMFocusIn,DOMFocusOut,DOMActivate",MutationEvent:"DOMSubtreeModified,DOMNodeInserted,DOMNodeRemoved,DOMNodeRemovedFromDocument,DOMNodeInsertedIntoDocument,DOMAttrModified,DOMCharacterDataModified"},isEvent:function(L){var J={type:L,interfaceName:null};for(var K in B.util.types){if(B.util.types[K].indexOf(L)!==-1){J.interfaceName=K;break}}return J},bind:function(M,L,K){for(var J=0;J<M.nodes.length;J++){if(!M.nodes[J].events){M.nodes[J].events={}}if(M.nodes[J].events[L]){M.nodes[J].events[L].push(K)}else{M.nodes[J].events[L]=[];M.nodes[J].events[L].push(K)}M.nodes[J].addEventListener(L,B.trigger,false)}return M},unbind:function(O,N,M){for(var L=0;L<O.nodes.length;L++){var J=O.nodes[L];if(J.events){if(N&&N!==""){var K=J.events[N];if(K){J.removeEventListener(N,B.trigger,false);if(m.isFunction(M)){for(var L in K){if(K[L]===M){K.splice(L,1)}}}else{K.length=0}}}else{var P=J.events;for(var L in P){J.removeEventListener(L,B.trigger,false);P[L].length=0}}}}return O},unbindAll:function(N){var K=N.nodes;for(var M=0;M<K.length;M++){var J=K[M].events;for(var L in J){K[M].removeEventListener(L,B.trigger,false);J[L].length=0}}return N},unbindnode:function(L){var J=L.events;for(var K in J){L.removeEventListener(K,B.trigger,false);J[K].length=0}},trigger:function(K,O,L){var Q=this.isEvent(O);if(Q.interfaceName){var P=document.createEvent(Q.interfaceName);switch(Q.interfaceName){case"MouseEvent":P.initMouseEvent(O,true,false,window,0,0,0,0,0,false,false,false,false,0,null);break;case"HTMLEvents":P.initEvent(O,true,false,window);break;case"UIEvents":P.initUIEvents(O,true,false,window,null);break;case"MutationEvent ":P.initMutationEvent(O,true,false,window,null,null,null,null);break}for(var M=0;M<K.nodes.length;M++){K.nodes[M].dispatchEvent(P)}}else{var N=new B(L);N.type=O;N.target=K.nodes[0];var J=K.nodes[0];while(J){N.currentTarget=J;if(J.events&&J.events[O]){var R=J.events[O];for(var M in R){R[M].call(J,N)}}if(N._stop){break}J=J.parentNode}}return K}};var o={linner:function(K,J,M,L){return M*K/L+J},"ease-in-quad":function(K,J,M,L){return M*(K/=L)*K+J},"ease-out-quad":function(K,J,M,L){return -M*(K/=L)*(K-2)+J},"ease-in-out-quad":function(K,J,M,L){if((K/=L/2)<1){return M/2*K*K+J}return -M/2*((--K)*(K-2)-1)+J},"ease-in-cubic":function(K,J,M,L){return M*(K/=L)*K*K+J},"ease-out-cubic":function(K,J,M,L){return M*((K=K/L-1)*K*K+1)+J},"ease-in-out-cubic":function(K,J,M,L){if((K/=L/2)<1){return M/2*K*K*K+J}return M/2*((K-=2)*K*K+2)+J},"ease-in-quart":function(K,J,M,L){return M*(K/=L)*K*K*K+J},"ease-out-quart":function(K,J,M,L){return -M*((K=K/L-1)*K*K*K-1)+J},"ease-in-out-quart":function(K,J,M,L){if((K/=L/2)<1){return M/2*K*K*K*K+J}return -M/2*((K-=2)*K*K*K-2)+J},"ease-in-quint":function(K,J,M,L){return M*(K/=L)*K*K*K*K+J},"ease-out-quint":function(K,J,M,L){return M*((K=K/L-1)*K*K*K*K+1)+J},"ease-in-out-quint":function(K,J,M,L){if((K/=L/2)<1){return M/2*K*K*K*K*K+J}return M/2*((K-=2)*K*K*K*K+2)+J},"ease-in-sine":function(K,J,M,L){return -M*Math.cos(K/L*(Math.PI/2))+M+J},"ease-out-sine":function(K,J,M,L){return M*Math.sin(K/L*(Math.PI/2))+J},"ease-in-out-sine":function(K,J,M,L){return -M/2*(Math.cos(Math.PI*K/L)-1)+J},"ease-in-expo":function(K,J,M,L){return(K===0)?J:M*Math.pow(2,10*(K/L-1))+J},"ease-out-expo":function(K,J,M,L){return(K===L)?J+M:M*(-Math.pow(2,-10*K/L)+1)+J},"ease-in-out-expo":function(K,J,M,L){if(K===0){return J}if(K===L){return J+M}if((K/=L/2)<1){return M/2*Math.pow(2,10*(K-1))+J}return M/2*(-Math.pow(2,-10*--K)+2)+J},"ease-in-circ":function(K,J,M,L){return -M*(Math.sqrt(1-(K/=L)*K)-1)+J},"ease-out-circ":function(K,J,M,L){return M*Math.sqrt(1-(K=K/L-1)*K)+J},"ease-in-out-circ":function(K,J,M,L){if((K/=L/2)<1){return -M/2*(Math.sqrt(1-K*K)-1)+J}return M/2*(Math.sqrt(1-(K-=2)*K)+1)+J},"ease-in-elastic":function(L,J,P,O,K,N){var M;if(L===0){return J}if((L/=O)==1){return J+P}if(typeof N==="undefined"){N=O*0.3}if(!K||K<Math.abs(P)){M=N/4;K=P}else{M=N/(2*Math.PI)*Math.asin(P/K)}return -(K*Math.pow(2,10*(L-=1))*Math.sin((L*O-M)*(2*Math.PI)/N))+J},"ease-out-elastic":function(L,J,P,O,K,N){var M;if(L===0){return J}if((L/=O)===1){return J+P}if(typeof N==="undefined"){N=O*0.3}if(!K||K<Math.abs(P)){K=P;M=N/4}else{M=N/(2*Math.PI)*Math.asin(P/K)}return(K*Math.pow(2,-10*L)*Math.sin((L*O-M)*(2*Math.PI)/N)+P+J)},"ease-in-out-elastic":function(L,J,P,O,K,N){var M;if(L===0){return J}if((L/=O/2)===2){return J+P}if(typeof N==="undefined"){N=O*(0.3*1.5)}if(!K||K<Math.abs(P)){K=P;M=N/4}else{M=N/(2*Math.PI)*Math.asin(P/K)}if(L<1){return -0.5*(K*Math.pow(2,10*(L-=1))*Math.sin((L*O-M)*(2*Math.PI)/N))+J}return K*Math.pow(2,-10*(L-=1))*Math.sin((L*O-M)*(2*Math.PI)/N)*0.5+P+J},"ease-in-back":function(K,J,N,M,L){if(typeof L==="undefined"){L=1.70158}return N*(K/=M)*K*((L+1)*K-L)+J},"ease-out-back":function(K,J,N,M,L){if(typeof L==="undefined"){L=1.70158}return N*((K=K/M-1)*K*((L+1)*K+L)+1)+J},"ease-in-out-back":function(K,J,N,M,L){if(typeof L==="undefined"){L=1.70158}if((K/=M/2)<1){return N/2*(K*K*(((L*=(1.525))+1)*K-L))+J}return N/2*((K-=2)*K*(((L*=(1.525))+1)*K+L)+2)+J},"ease-in-bounce":function(K,J,M,L){return M-o["ease-out-bounce"](L-K,0,M,L)+J},"ease-out-bounce":function(K,J,M,L){if((K/=L)<(1/2.75)){return M*(7.5625*K*K)+J}else{if(K<(2/2.75)){return M*(7.5625*(K-=(1.5/2.75))*K+0.75)+J}else{if(K<(2.5/2.75)){return M*(7.5625*(K-=(2.25/2.75))*K+0.9375)+J}else{return M*(7.5625*(K-=(2.625/2.75))*K+0.984375)+J}}}},"ease-in-out-bounce":function(K,J,M,L){if(K<L/2){return o["ease-in-bounce"](K*2,0,M,L)*0.5+J}else{return o["ease-out-bounce"](K*2-L,0,M,L)*0.5+M*0.5+J}}};var h=function(J){this.from=m.isAvalid(J.from)?J.from:0;this.to=m.isAvalid(J.to)?J.to:100;if(m.isString(J.fn)){this.fn=o[J.type]||o["ease-out-quart"]}else{if(m.isFunction(J.fn)){this.fn=J.fn}else{this.fn=o["ease-out-quart"]}}this.during=Math.round((J.during||1000)/16.7);this.onrunning=J.onrunning;this.onend=J.onend;this.delay=m.isAvalid(J.delay)?J.delay:0;this.isstop=true};h._run=function(){var N=0,K=this.during,M=this.to-this.from,J=this;var L=function(){N++;J.onrunning&&J.onrunning.call(J,J.fn(N,J.from,M,K));if(N<K&&!J.isstop){requestAnimationFrame(L)}else{J.onend&&J.onend.call(J);J.isstop=true}};L()};h._runs=function(){var O=0,K=this.during;var N=[],J=this;for(var L=0;L<this.from.length;L++){N.push(this.to[L]||0-this.from[L])}var M=function(){O++;var Q=[];for(var P=0;P<J.from.length;P++){Q.push(J.fn(O,J.from[P],N[P],K))}J.onrunning&&J.onrunning.call(J,Q);if(O<K&&!J.isstop){requestAnimationFrame(M)}else{J.onend&&J.onend.call(J);J.isstop=true}};M()};h._runo=function(){var O=0,K=this.during;var N={},J=this;for(var L in this.from){N[L]=this.to[L]||0-this.from[L]}var M=function(){O++;var Q={};for(var P in J.from){Q[P]=J.fn(O,J.from[P],N[P],K)}J.onrunning&&J.onrunning.call(J,Q);if(O<K&&!J.isstop){requestAnimationFrame(M)}else{J.onend&&J.onend.call(J);J.isstop=true}};M()};h.prototype.start=function(){var J=this;this.isstop=false;setTimeout(function(){if(m.isArray(J.from)){h._runs.call(J)}else{if(m.isObject(J.from)){h._runo.call(J)}else{if(m.isNumber(J.from)){h._run.call(J)}}}},this.delay);return this};h.prototype.stop=function(){this.isstop=true;return this};h.prototype.isRunning=function(){return this.isstop===true};h.prototype.clean=function(){for(var J in this){this[J]=null}};z.tween=function(J){return new h(J)};var g=function(K){this.mimeType=null;this.data=K.data||"";this.url=K.url||"";this.realURL=K.url||"";this.type=K.type||"post";this.realType=K.dataType||"text";this.dataType=["arraybuffer","blob","document","text"].indexOf(K.dataType)!==-1?K.dataType:"text";this.async=K.async===false?false:true;this.timeout=K.timeout||30000;this.headers=K.headers||{};this.events=F.cover({readystatechange:null,loadstart:null,progress:null,abort:null,error:null,load:null,timeout:null,loadend:null},K.events);var J=this;this._eventproxy=function(M){var L=J.events[M.type];J.response=this;L&&L.call(J,M);if(M.type==="loadend"){J.clean()}};this._uploadproxy=function(M){var L=J.events[M.type];J.response=this;L&&L.call(J,M)};this.xhr=new XMLHttpRequest()};g.prototype.clean=function(){for(var J in this.events){if(J==="progress"){this.xhr.upload.removeEventListener(J,this._uploadproxy,false)}else{this.xhr.removeEventListener(J,this._eventproxy,false)}}for(var J in this){this[J]=null}};g.prototype.abort=function(){this.xhr.abort();return this};g.prototype.header=function(L,K){if(arguments.length===1){for(var J in L){this.headers[J]=L[J]}}else{this.headers[L]=K}return this};g.prototype.bind=function(L,K){if(arguments.length===1){for(var J in L){this.events[J]=L[J]}}else{this.events[L]=K}return this};g.prototype.unbind=function(M,L){var J=this.events[M];for(var K in J){if(J[K]===L){J[K]=null}}return this};g.prototype.fire=function(){if(this.mimeType){this.xhr.overrideMimeType(this.mimeType)}if(this.type==="get"){var J=x.queryString(this.data);this.url+=(this.url.indexOf("?")!==-1?(J===""?"":"&"+J):(J===""?"":"?"+J))}else{this.data=x.postData(this.data)}this.xhr.open(this.type,this.url,this.async);if(this.async){this.xhr.responseType=this.dataType;this.xhr.timeout=this.timeout}for(var K in this.events){if(K==="progress"){this.xhr.upload.addEventListener(K,this._uploadproxy,false)}else{this.xhr.addEventListener(K,this._eventproxy,false)}}for(var K in this.headers){this.xhr.setRequestHeader(K,this.headers[K])}if(m.isQueryString(this.data)){this.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded")}this.xhr.send(this.data);return this};z.ajax=function(J){var K=new v();if(J){J.events={error:function(L){J.error&&J.error.call(this,L);K.reject(L)},load:function(O){var N=this.response.status;if((N>=200&&N<300)||N===304){var M=this.response.response;if(this.realType==="json"){var L=this.response.responseText;try{M=x.parse(L)}catch(O){throw Error("rocui-unvaliable json string.url is "+J.url)}}J.success&&J.success.call(this,M);K.resolve(M)}else{J.error&&J.error.call(this,O);K.reject(this.response)}}};new g(J).fire();return K}else{return K.resolve()}};z.request=function(J){return new g(J)};var q={importsmapping:{js:[],css:[],hasJs:function(J){return this.js.indexOf(J)!==-1?true:false},hasCss:function(J){return this.css.indexOf(J)!==-1?true:false},addJs:function(J){this.js.push(J);return this},addCss:function(J){this.css.push(J);return this}},css:function(O,Q,K,N){if(N===undefined||N===null){N=false}if(!q.importsmapping.hasCss(O)){if(!N){var M=document.createElement("link"),J=null;M.href=O;M.type="text/css";M.rel="stylesheet";var L=function(R){M.removeEventListener("error",L);M.removeEventListener("load",P);K&&K.call(R.target,R)};var P=function(R){M.removeEventListener("error",L);M.removeEventListener("load",P);if(Q){clearTimeout(J);Q.call(R.target,R)}};M.addEventListener("error",L,false);M.addEventListener("load",P,false);document.getElementsByTagName("head")[0].appendChild(M);q.importsmapping.addCss(O);(function(){try{if(M.sheet.cssRules){if(M.sheet.cssRules.length>0){M.removeEventListener("error",L);M.removeEventListener("load",P);Q&&Q.call(M)}}}catch(R){J=setTimeout(arguments.callee,100)}})()}else{z.ajax({url:O,dataType:"text",type:"get",async:true,success:function(S){var R=document.createElement("style");R.type="text/css";R.styleSheet.cssText=S;R.setAttribute("media","screen");document.getElementsByTagName("head")[0].appendChild(R);if(Q){Q()}},error:function(R){if(K){K()}}});q.importsmapping.addJs(O)}}else{if(Q){Q()}}return this},js:function(J,Q,K,P,N){if(N===undefined||N===null){N=true}if(!q.importsmapping.hasJs(J)){if(N){var O=function(R){R.target.removeEventListener("load",O);R.target.removeEventListener("error",M);if(Q){Q.call(R.target,R)}};var M=function(R){R.target.removeEventListener("load",O);R.target.removeEventListener("error",M);if(K){K.call(R.target,R)}};var L=document.createElement("script");L.src=J;L.type="text/javascript";if(P&&P!==""){L.charset=P}L.addEventListener("load",O,false);L.addEventListener("error",M,false);document.getElementsByTagName("head")[0].appendChild(L);q.importsmapping.addJs(J)}else{z.ajax({url:J,dataType:"text",type:"get",async:false,success:function(R){(new Function("try{"+R+"}catch(e){console.error('[rocui]imports: %s ,path "+J+"',e.message);}"))();if(Q){Q()}},error:function(R){if(K){K()}}});q.importsmapping.addJs(J)}}else{if(Q){Q()}}return this},image:function(K,O,J){var M=document.createElement("img");var N=function(P){P.target.removeEventListener("load",N);P.target.removeEventListener("error",L);if(O){O.call(P.target,P)}};var L=function(P){P.target.removeEventListener("load",N);P.target.removeEventListener("error",L);if(J){J.call(P.target,P)}};M.src=K;M.addEventListener("load",N,false);M.addEventListener("error",L,false);return this},text:function(K,M,J,L){z.ajax({url:K,data:L,dataType:"text",success:M,error:J});return this},json:function(K,M,J,L){z.ajax({url:K,data:L,dataType:"json",success:M,error:J});return this},load:function(L,O,N,J){if(L){var P=new y();for(var M in L){for(var K in L[M]){P.add(function(R,Q){var S=this;q[Q.type](Q.path,function(T){S.next()},function(T){if(J){J.call(S,Q.type,Q.path)}})},null,{type:M,path:L[M][K]})}}P.complete(function(){if(O){O()}}).progress(function(Q){if(N){N({total:Q.total,runed:Q.runed,progress:Math.floor((Q.runed/Q.total)*100)})}}).run()}else{if(O){O()}}}};z.loader=function(){return q};var n=[];var i=[];var e={};var u={};var p=function(L){var K={basepath:"",packetName:"",back:null},J=this;z.extend(K,L);if(K.packetName!==""){var M=K.basepath+K.packetName.replace(/\./g,"/")+".js";this.option=K;this.info=[];if(n.indexOf(M)===-1){this.load(M,function(){var P=J.dependsSort(J.info);if(P.length===J.info.length){J.info=P;for(var O=0;O<J.info.length;O++){var R=J.info[O].info;var N=J.info[O].code+"\r\n//@ sourceURL="+R.path;try{z.___info=R;if(!u[R.packet]){u[R.packet]={}}(new Function("info","$","Module","Option","module","require","domstr","T",N))(R,z,z.Module,z.Option,u[R.packet],function(S){if(u[S]){return u[S].exports?u[S].exports:u[S]}else{throw Error("[rocui] method require() called error,packet of "+S+" is not required in packet of "+R.packet)}},function(S){return e[S]},function(){return Array.prototype.slice.call(arguments).join("")});z.___info=null}catch(Q){z.___info=null;console.error("[rocui] packet import error name of "+R.packet+" path of "+R.path+" Message:"+Q.stack)}}n.push(M);J.option.back&&J.option.back()}else{throw Error("[rocui] packet depends error,maybe has circle depends,or some file has no packet info.")}J.clean()})}else{J.option.back&&J.option.back();J.clean()}}};p.basePath="";p.isNote=/\/\*[\w\W]*?\*\//;p.isInfo=/@([\s\S]*?);/g;p.isPacketTag=/["\']@[A-Za-z0-9_-]+\.[A-Za-z0-9_-]*["\']/g;p.isCurrentTag=/["\']@\.[A-Za-z0-9_-]*["\']/g;p.isPacket=/["\']@[A-Za-z0-9_-]*["\']/g;p.prototype.load=function(M,K){var J=this,L=M;z.ajax({url:M,dataType:"text",type:"get",success:function(S){var R=J.getPacketInfo(S),O=0;if(R.packet==="nopacket"){console.error("[rocui] file has no packet info,path of "+L)}try{S=J.replacePacketNames(R,S)}catch(S){console.error(S.stack)}J.info.push({info:R,code:S});if(R.require){O+=R.require.length}if(R.css){O+=R.css.length}if(O>0){var N=z.queue();N.complete(function(){if(K){K()}});for(var P in R.css){var Q=R.css[P];if(n.indexOf(Q)===-1){n.push(Q);N.add(function(U,T){q.css(T,function(){N.next()})},null,Q)}}for(var P in R.dom){var Q=R.dom[P];if(n.indexOf(Q)===-1){n.push(Q);N.add(function(U,T){z.ajax({url:T,type:"get",dataType:"text"}).done(function(W){var V=W.split("\r\n"),Z={};var Y=[],X="";V.forEach(function(aa,ab){if(aa.indexOf("<!--")===0){if(Y.length!==0){e[X]=Y.join("");Y=[];X=aa.substring(4,aa.length-3)}else{X=aa.substring(4,aa.length-3)}}else{Y.push(aa.trim())}if(ab===V.length-1){e[X]=Y.join("")}});N.next()})},null,Q)}}for(var P in R.require){var Q=R.require[P];if(n.indexOf(Q)===-1){n.push(Q);N.add(function(U,T){J.load(T,function(){N.next()})},null,Q)}}N.run()}else{if(K){K()}}},error:function(){if(K){K()}}})};p.prototype.dependsSort=function(N){var L=[],P=[];for(var O=0;O<N.length;O++){var K=N[O];K.dependTimes=K.info.depends.length;for(var M=0;M<K.info.depends.length;M++){var Q=K.info.depends[M];if(i.indexOf(Q)!==-1){K.dependTimes=K.dependTimes-1}}}for(var O=0;O<N.length;O++){var K=N[O];if(K.dependTimes===0||K.info.depends.length===0){i.push(K.info.packet);L.push(K)}else{K.dependTimes=K.info.depends.length;P.push(K)}}for(var O=0;O<L.length;O++){var K=L[O];for(var M=0;M<P.length;M++){var J=P[M];if(J.info.depends.indexOf(K.info.packet)!==-1){J.dependTimes=J.dependTimes-1;if(J.dependTimes<=0){i.push(J.info.packet);L.push(J);P.splice(M,1)}}}}for(var O=0;O<P.length;O++){var K=P[O];for(var M=0;M<K.info.depends.length;M++){var J=K.info.depends[M];if(i.indexOf(J)!==-1){K.dependTimes=K.dependTimes-1;if(K.dependTimes<=0){i.push(K.packet);L.push(K);P.splice(O,1);break}}}}return L};p.prototype.getPacketInfo=function(M){var K=M.match(p.isNote),L=this.option.basepath,N={_packets_:{},packet:"",require:[],include:[],css:[],dom:[],depends:[]};if(K&&K.length>0){var J=K[0];J.match(p.isInfo).forEach(function(P){var T=P.split(" ");if(T.length>=2){var R=T[0].substring(1,T[0].length),S=T[1].substring(0,T[1].length-1);if(R==="require"||R==="include"){var Q=S.split(":");if(Q.length>1){if(N._packets_[Q[1]]){console.info("[rocui] maybe the packet with name of "+N.packet+" contain duplicate packet shortname,it is "+Q[1])}N._packets_[Q[1]]=Q[0]}else{var O=Q[0].split(".");if(N._packets_[O[O.length-1]]){console.info("[rocui] maybe the packet with name of "+N.packet+" contain duplicate packet shortname,it is "+O[O.length-1])}N._packets_[O[O.length-1]]=Q[0]}if(R==="require"){N.depends.push(Q[0])}S=L+Q[0].replace(/\./g,"/")+".js"}else{if(R==="css"){S=L+S.replace(/\./g,"/")+".css"}else{if(R==="packet"){N.packet=S}else{if(R==="dom"){S=L+S.replace(/\./g,"/")+".html"}else{N[R]=S}}}}N.path=L+N.packet.replace(/\./g,"/")+".js";if(N[R]){if(N[R].indexOf(S)===-1){N[R].push(S)}}}})}else{N.packet="nopacket"}return N};p.prototype.replacePacketNames=function(K,J){return J.replace(p.isPacketTag,function(O){var L=O.split("."),M=0,N=L[1].substring(0,L[1].length-1),M=L[0].substring(2);if(K._packets_[M]){return O[0]+K._packets_[M]+"."+N+O[O.length-1]}else{throw Error("[rocui] packet can not find with tag of "+O+",packet is "+K.packet)}}).replace(p.isCurrentTag,function(L){return L[0]+K.packet+"."+L.split(".")[1]}).replace(p.isPacket,function(M){var L=M.substring(2,M.length-1);if(K._packets_[L]){return M[0]+K._packets_[L]+M[M.length-1]}else{throw Error("[rocui] packet can not find with tag of "+M+",packet is "+K.packet)}})};p.prototype.clean=function(){for(var J in this){this[J]=null}};p.require=function(J){if(u[J]){return u[J].exports?u[J].exports:u[J]}else{throw Error("[rocui] method require() called error,packet of "+J)}};z.packet=function(J){new p(J)};z.packetBasePath=function(J){if(arguments.length===1){p.basePath=J}else{return p.basePath}};z.require=function(K,J){new p({basepath:p.basePath,packetName:K,back:function(){J&&J(p.require(K),p.require)}})};var I=function(J){this._code=I.code(J);this._fn=I.compile(this._code)};I.a=/&lt;%/g;I.b=/%&gt;/g;I.c=/&quot;/g;I.d=/<%|%>/g;I.e=/^=.*;$/;I.code=function(J){var K="var out='';";J.replace(I.a,"<%").replace(I.b,"%>").split(I.d).forEach(function(M,L){M=M.replace(/"/g,'\\"');L%2!==0?(I.e.test(M)?(K+="out+"+M):(K+=M)):(K+='out+="'+M+'";')});K+="return out;";return K};I.compile=function(J){try{return new Function("data","fn",J)}catch(K){console.error("[template error] "+K.message);console.info("[template result] "+J);return function(){return""}}};I.prototype.render=function(K,J){return this._fn(K,J)};I.prototype.code=function(){return this._code};I.prototype.fn=function(){return this._fn};z.template=function(){var J=Array.prototype.slice.call(arguments).join("");return new I(J)};k.prototype.template=function(){var K=new I(J.html()),J=this;return{render:function(M,L){J.html(K.render(M,L));return J},compile:function(M,L){return K.render(M,L)}}};var c=function(){};c.prototype.privator=function(L){var J=this.__adapt__._private["_"+L];if(J){var K=Array.prototype.slice.call(arguments);K.splice(0,1);return J.apply(this,K)}else{return null}};c.prototype.staticor=function(L,M){var J=this.__adapt__._static["__"+L];if(m.isFunction(J)){var K=Array.prototype.slice.call(arguments);K.splice(0,2);return J.apply(M,K)}else{return J}};c.prototype.type=function(){return this.__adapt__._type};c.prototype.shortName=function(){return this.__adapt__._shortName};c.prototype.packet=function(){return this.__adapt__._packet};c.prototype.typeOf=function(J){return this.__adapt__._mapping[J]!==undefined};c.prototype.factory=function(){return this.__adapt__._factory};c.prototype.clean=function(){this.__adapt__._factory=null;for(var J in this){this[J]=null}};c.prototype.isSingleton=function(){return this.__adapt__._singleton};c.prototype.superClass=function(N){var R=this.__adapt__._factory.mapping[this.__adapt__._parent];if(R&&R.prototype[N]){var Q=R.prototype[N];if(m.isFunction(Q)){var P=new R(),S=Object.keys(this);for(var M=0;M<S.length;M++){P[S[M]]=this[S[M]]}var K=Array.prototype.slice.call(arguments);K.splice(0,1);try{var J=Q.apply(P,K),L=Object.keys(P);for(var M=0;M<L.length;M++){this[L[M]]=P[L[M]]}return J}catch(O){console.error(O.message);return null}}else{return Q}}else{return undefined}};Object.defineProperty(c.prototype,"__adapt__",{enumerable:false,configurable:false,writable:false,value:{_type:"adapt",_shortName:"adapt",_packet:"",_parent:null,_factory:null,_private:null,_static:null,_option:null,_mapping:{},_original_option:[],_instance_props:["privator","staticor","type","shortName","packet","typeOf","factory","clean","superClass"],_extendslink:[]}});var j=function(){this.mapping={adapt:c}};var l={};j.prototype.def=function(L){var S=new Function();var Q={_type:(L.packet&&L.packet!==""?L.packet+".":"")+L.name,_shortName:L.name||"",_packet:L.packet||"",_mapping:{adapt:1},_extendslink:[],_instance_props:[],_private:{},_static:{},_factory:this,_singleton:L.singleton===null?L.singleton:false,_option:L.option||{},_original_option:[]};Q._mapping[Q._type]=1;for(var M in L.option){Q._original_option.push(M)}var N=new c();!L.extend&&(L.extend=["adapt"]);var O=L.extend;m.isString(L.extend)&&(O=[L.extend]);Q._parent=O[0];z.extend(Q._option,this.mapping[O[0]].prototype.__adapt__._option);for(var M=O.length-1;M>=0;M--){if(O[M]!=="adapt"){var P=this.mapping[O[M]].prototype;z.extend(Q._mapping,P.__adapt__._mapping);z.extend(Q._private,P.__adapt__._private);z.extend(Q._static,P.__adapt__._static);var J=Object.keys(P);for(var R=0;R<J.length;R++){if(z.is.isFunction(P[R])){if(!/^(init)$|^_\w*/.test(R)){N[J[R]]=P[J[R]]}}else{N[J[R]]=P[J[R]]}}}}Object.defineProperty(N,"__adapt__",{enumerable:false,configurable:false,writable:false,value:Q});for(var M in L){if(/^__/.test(M)){Q._static[M]=L[M]}else{if(m.isFunction(L[M])){if(/^_/.test(M)){Q._private[M]=L[M]}else{N[M]=L[M];if(M!=="init"){Q._instance_props.push(M)}}}else{if(!/^(name)|(extend)|(option)/.test(M)){N[M]=L[M];if(!/^(packet)|(layout)/.test(M)){Q._instance_props.push(M)}}}}}S.prototype=N;var K=S;while(K){Q._extendslink.push(K.prototype.__adapt__._type);K=this.mapping[K.prototype.__adapt__._parent]}this.mapping[Q._type]=S;return this};j.prototype.get=function(J){return this.mapping[J]};j.prototype.create=function(O,N){var M=null,K=O;var J=this.mapping[K];if(J){M=new J();M.option=z.extend({},J.prototype.__adapt__._option,N);for(var L=J.prototype.__adapt__._extendslink.length-1;L>=0;L--){var P=this.mapping[J.prototype.__adapt__._extendslink[L]];if(P&&P.prototype.init){P.prototype.init.call(M,M.option)}}}return M};j.prototype.instance=function(P,O){var M=null,L=P;var K=this.mapping[L];if(K){var N=K.prototype.__adapt__._singleton;if(N){if(!l[P]){var J=new K();J.option=z.extend({},K.prototype.__adapt__._option,O);l[P]=J}M=l[P]}else{M=new K();M.option=z.extend({},K.prototype.__adapt__._option,O)}}return M};j.prototype.invoke=function(N,R,T){var Q=null;if(m.isString(N)){var L=this.mapping[N];L&&(Q=new L())}else{if(m.isObject(N)){Q=N}}if(Q&&Q[R]){if(m.isFunction(Q[R])&&m.isObject(T)){var U=Array.prototype.slice.call(arguments),S=Object.keys(T),O=Q;U.splice(0,3);for(var M=0;M<S.length;M++){O[S[M]]=T[S[M]]}try{var J=O[R].apply(O,U),K=Object.keys(O);for(var M=0;M<K.length;M++){T[K[M]]=O[K[M]]}return J}catch(P){console.error(P.message);return null}}}return null};j.prototype.proxy=function(K,J,P){if(arguments.length>1){var S=null,M=null;if(m.isString(K)){var Q=this.mapping[K];Q&&(K=new Q())}else{if(K instanceof c){var O=new this.mapping[K.__adapt__._type](),N=Object.keys(K);for(var L=0;L<N.length;L++){O[N[L]]=K[N[L]]}K=O}else{K=null}}if(m.isObject(K)){if(m.isArray(J)){S=J;M=P}else{if(m.isFunction(J)){M=J}}var R=new this.mapping[K.__adapt__._type]();for(var L in K){if(m.isFunction(K[L])){if(!S||S&&S.indexOf(L)!==-1){(function(T){R[L]=function(){var U=arguments;M&&M.call(K,{methodName:T,invoke:function(){return K[T].apply(K,U)}})}})(L)}}else{R[L]=K[L]}}return R}else{return null}}else{return null}};j.prototype.has=function(J){return this.mapping[J]!==undefined};z.adapt=function(){return new j()};var d={factory:z.adapt(),basemapping:{basePath:"",basicPackets:[]},getPacketName:function(K){if(K){K=K.trim();if(K!==""){var J=K.split(".");if(J.length>1){J.splice(J.length-1,1);return J.join(".")}else{return K}}else{return""}}else{return""}},getArrayUnDuplicate:function(J){var L={},M=[];for(var K=0;K<J.length;K++){L[J[K]]=1}for(var K in L){M.push(K)}return M},getViewInstance:function(N,M,L,O,J){var K=N.dataset("view");if(K){d.get(K,M,function(P){if(!N.data("-view-")){P.dom=N;L&&L(P)}else{L&&L(N.data("-view-"))}},O,J)}else{throw Error("[roc] view can not init.the element has no attribute like view-*")}},add:function(O){if(!O.tagName){O.tagName="div"}d.factory.def(O);var N=(O.packet&&O.packet!==""?O.packet+".":"")+O.name;var L=d.factory.get(N).prototype;var M=[O.className||""];for(var K=L.__adapt__._extendslink.length-1;K>=0;K--){var J=d.factory.get(L.__adapt__._extendslink[K]);if(J){var P=J.prototype.className;if(P&&P!==""){if(M.indexOf(P)===-1){M.push(P)}}}}L.fullClassName=M.join(" ")},has:function(J){return d.factory.has(J)},get:function(L,N,M,P,K){if(!d.has(L)){var J=d.basemapping.basePath,O=d.getPacketName(L);P&&P({packetName:O,module:L});z.packet({basepath:J,packetName:O,back:function(){K&&K({packetName:O,module:L});if(M){if(d.has(L)){M(d.factory.instance(L,N))}else{throw Error("[rocui] can not find module with name of "+L+",it is not in the packet of "+d.getPacketName(L)+" or the packet file inited failed.")}}}})}else{if(M){M(d.factory.instance(L,N))}}}};var t={options:{},add:function(J){if(J.name&&J.name!==""){t.options[J.name]=J}else{throw Error("[rocui] option name can not null or ''")}},has:function(K){var J=t.options[K];if(J){return J}else{return false}},get:function(L,M,O,K){if(L&&L!==""){var J=t.has(L);if(J===false){var N=d.getPacketName(L);O&&O({packet:N,option:L});z.packet({basepath:d.basemapping.basePath,packetName:N,back:function(){K&&K({packet:N,option:L});if(M){var P=t.has(L);if(P){M(P)}else{throw Error("[rocui] can not find option with name of "+L+",is not in the packet of "+d.getPacketName(L))}}}})}else{M&&M(J)}}else{M&&M(null)}}};var s=function(L,J,K){this.target=L;this.data=K;this.type=J;this._goon=true;this.currentTarget=null};s.prototype.clone=function(){return z.extend(new viewevnet(),this)};s.prototype.stopPropagation=function(){this._goon=false};d.add({name:"view",packet:"",option:{},parentView:null,init:null,template:"",onbeforeinit:null,onendinit:null,onunload:z.nfn,onimportoptionstart:z.nfn,onimportoptionend:z.nfn,getId:function(){return this.dom.dataset("viewId")},getDom:function(){return this.dom},postData:function(J){J.dataType="json";z.ajax(J).done(function(K){if(K.code&&K.code==="1"){J.back&&J.back(K.data)}else{J.dataerror&&J.dataerror(K)}}).fail(function(K){J.neterror&&J.neterror()})},triggerEvent:function(J){J.currentTarget=this;if(this._handlers[J.type]){return this._handlers[J.type].call(this,J)}else{if(this["event_"+J.type]){return this["event_"+J.type].call(this,J)}else{return true}}},initEvent:function(J,K){var L=new s(this,J,K);return L},dispatchEvent:function(K,M,N){N=N===undefined?true:N;var L=new s(this,K,M);if(N===true){var J=this;while(J){J.triggerEvent(L);if(L._goon){J=J.parentView}else{break}}}else{this.triggerEvent(L);if(this.typeOf("viewgroup")){if(this.oninterceptevent()!==false){this.forEach(function(O){this.dispatchEvent(K,M,false);if(!L._goon){return false}})}}}},addEventListener:function(K,J){this._handlers[K]=J;return this},removeEventListener:function(K,J){this._handlers[K]=null;return this},remove:function(){this.dom.remove()},_render:function(M){if(!this.dom.data("-view-")){var L=this.dom.dataset("option"),K=this;if(this.dom.hasClass("_futuretochange_")){this.dom.removeClass("_futuretochange_");var O=this.__adapt__._factory.mapping[this.__adapt__._type].prototype;var N=O.fullClassName;if(this.dom.get(0).tagName.toLowerCase()!==this.tagName){console.log("========>>tagName not same");var J=$("<"+O.tagName+" class='"+N+"' data-view='"+this.dom.dataset("view")+"' data-parent-view='"+this.dom.dataset("parentView")+"' data-view-id='"+this.dom.dataset("viewId")+"' daa-option='"+this.dom.dataset("option")+"'></"+O.tagName+">");this.dom.get(0).parentNode.replaceChild(J.get(0),this.dom.get(0));this.dom=J}}this._handlers=[];t.get(L,function(Q){K.dom.data("-view-",K);if(Q){K.option.override=Q.override||{};for(var P in Q){if(P!=="name"&&P!=="override"){if(P.indexOf("override_")===0){K.option.override[P.substring(9)]=Q[P]}else{K.option[P]=Q[P]}}}}for(var P in K.option.override){if(!/^(dom)|^(option)|^(name)|^(extend)|^(init)/.test(P)){K[P]=K.option.override[P]}}K.name=K.type();K.shortname=K.shortName();if(typeof K.onbeforeinit==="function"){try{K.onbeforeinit(K.option)}catch(R){console.error("[rocui] onbeforeinit called error with module of "+K.type()+" Message:"+R.message)}}if(typeof K.init==="function"){try{if(K.className&&K.className!==""){K.dom.addClass(K.className)}K.init(K.option)}catch(R){console.error("[rocui] init called error with module of "+K.type()+" Message:"+R.stack)}}if(typeof K.onendinit==="function"){try{K.onendinit(K.option)}catch(R){console.error("[rocui] onendinit called error with module of "+K.type()+" Message:"+R.message)}}M&&M()},function(P){if(typeof K.onimportoptionstart==="function"){try{K.onimportoptionstart.call(K,P)}catch(Q){console.error("[rocui] onimportoptionstart called error with module of "+K.type()+" Message:"+Q.stack)}}},function(P){if(typeof K.onimportoptionend==="function"){try{K.onimportoptionend.call(K,P)}catch(Q){console.error("[rocui] onimportoptionend called error with module of "+K.type()+" Message:"+Q.stack)}}})}return this},clean:function(){try{this.onunload()}catch(K){console.error("[rocui] onunload called error with module of "+this.type()+" Message:"+K.stack)}var L=this.parentView;if(L&&L.children){var M=L.children.indexOf(this);if(M!==-1){L.children.splice(M,1)}}for(var J in this){this[J]=null}},delegateEvent:function(){var J=this;this.dom.find("[data-bind]").each(function(){if(!$(this).data("_eventback_")){var L=$(this).dataset("bind").split(":");var M=L[0],K=L[1];$(this).data("_eventback_",K).bind(M,function(O){var N=$(this).data("_eventback_");J["bind_"+N]&&J["bind_"+N].call(J,$(this),O)})}})},render:function(L,K){var J=this;J.onbeforerender&&J.onbeforerender();if(z.is.isString(L)&&arguments.length===2){this.postData({url:L,data:K,back:function(N){try{J.dom.html(z.template(J.template).render(N));J.delegateEvent();J.delegateFind();J.onendrender&&J.onendrender(N)}catch(O){console.error("[rocui] render called error with module of "+J.type()+" Message:"+O.message)}},dataerror:function(N){try{J.onrenderror&&J.onrenderror()}catch(N){console.error("[rocui] onrenderror called error with module of "+J.type()+" Message:"+N.message)}},neterror:function(N){try{J.onrenderror&&J.onrenderror()}catch(N){console.error("[rocui] onrenderror called error with module of "+J.type()+" Message:"+N.message)}}})}else{try{J.dom.html(z.template(J.template).render(L));J.delegateEvent();J.delegateFind();J.onendrender&&J.onendrender()}catch(M){console.error("[rocui] render called error with module of "+J.type()+" Message:"+M.message)}}},delegateFind:function(){var J=this;this.dom.find("[data-find]").each(function(){var K=$(this).dataset("find");try{J["find_"+K]&&J["find_"+K]($(this))}catch(L){console.error("[rocui] view finder called error with module of "+J.type()+" Message:"+L.message)}})},original:function(L,M){var K=Object.getPrototypeOf(this)[L];if(z.is.isFunction(K)){var J=Array.prototype.slice.call(arguments);J.splice(1,1);return K.apply(this,J)}else{return K}}});d.add({name:"viewgroup",packet:"",extend:["view"],option:{},layout:null,onsetlayout:null,ondomready:null,onoption:null,oninterceptevent:null,onimportstart:null,onimportend:null,oninitchild:null,_render:function(N){if(!this.dom.data("-view-")){this._handlers={};this.children=[];var L=this,M=this.dom.dataset("option"),J=z.queue();if(this.dom.hasClass("_futuretochange_")){this.dom.removeClass("_futuretochange_");var P=this.__adapt__._factory.mapping[this.__adapt__._type].prototype;var O=P.fullClassName;if(this.dom.get(0).tagName.toLowerCase()!==this.tagName){console.log("========>>tagName not same");var K=$("<"+P.tagName+" class='"+O+"' data-view='"+this.dom.dataset("view")+"' data-parent-view='"+this.dom.dataset("parentView")+"' data-view-id='"+this.dom.dataset("viewId")+"' daa-option='"+this.dom.dataset("option")+"'></"+P.tagName+">");this.dom.get(0).parentNode.replaceChild(K.get(0),this.dom.get(0));this.dom=K}}t.get(M,function(R){if(!L.option){L.option={}}if(!L.option.override){L.option.override={}}if(R){for(var Q in R){if(Q!=="name"){if(Q.indexOf("override_")===0&&Q!=="override"){L.option.override[Q.substring(9)]=R[Q]}else{L.option[Q]=R[Q]}}}for(var Q in R.override){L.option.override[Q]=R.override[Q]}}for(var Q in L.option.override){if(!/^(dom)|^(option)|^(name)|^(extend)|^(init)/.test(Q)){L[Q]=L.option.override[Q]}}if(typeof L.onbeforeinit==="function"){try{L.onbeforeinit(L.option)}catch(T){console.error("[rocui] onbeforeinit called error with module of "+L.type()+" Message:"+T.stack)}}if(L.layout&&L.layout!==""){var U=L.layout;if(typeof L.onsetlayout==="function"){try{U=L.onsetlayout(L.layout)}catch(T){U="";console.error("[rocui] onsetlayout called error with module of "+L.type()+" Message:"+T.stack)}}if(z.is.isString(U)){try{var S=z.template(U).code();U=(new Function("data","module",S))({id:L.getId(),option:L.option},function(W,V,Y){var X={tagName:"div",fullClassName:"_futuretochange_"};if(L.__adapt__._factory.mapping[W]){var X=L.__adapt__._factory.mapping[W].prototype}return"<"+X.tagName+" class='"+X.fullClassName+"' data-parent-view='"+L.getId()+"' data-view='"+W+"' data-view-id='"+(Y||L.getId()+"-"+L.children.length)+"' data-option='"+(V||"")+"'></"+X.tagName+">"})}catch(T){console.error("[rocui] parse layout called error with module of "+L.type()+" Message:"+T.stack);U=""}}else{U="[empty layout]"}L.layout=U;L.dom.html(U)}else{if(L.layout===""){L.dom.empty()}}L.delegateEvent();L.delegateFind();if(typeof L.ondomready==="function"){try{L.ondomready(L.option)}catch(T){console.error("[rocui] ondomready called error with module of "+L.type()+" Message:"+T.stack)}}J.complete(function(V){V.dom.data("-view-",V);V.name=V.type();V.shortname=V.shortName();if(typeof V.init==="function"){try{if(V.className&&V.className!==""){V.dom.addClass(V.className)}V.init(V.option)}catch(W){console.error("[rocui] init called error with module of "+L.type()+" Message:"+W.stack)}}if(typeof V.onendinit==="function"){try{V.onendinit(V.option)}catch(W){console.error("[rocui] onendinit called error with module of "+L.type()+" Message:"+W.stack)}}N&&N()});L.dom.find("*[data-parent-view='"+L.getId()+"']").each(function(){J.add(function(Z,aa){var ab=this;var W={},Y=aa.dataset("view"),V=aa.dataset("viewId");if(Z.oninitchild){try{Z.oninitchild({id:V,type:Y})}catch(X){console.error("[rocui] oninitchild called error with module of "+L.type()+" Message:"+X.stack)}}d.get(Y,null,function(ac){for(var ad=ac.__adapt__._extendslink.length-1;ad>=0;ad--){z.extend(W,Z.option[ac.__adapt__._extendslink[ad]])}z.extend(W,Z.option[V]);var ag=null;if(typeof Z.onoption==="function"){try{ag=Z.onoption.call(Z,W,Y,V);z.extend(W,ag)}catch(af){console.error("[rocui] onoption called error with module of "+L.type()+" Message:"+af.stack)}}z.extend(ac.option,W);if(!aa.data("-view-")){var ae=ac;ae.dom=aa;ae.parentView=Z;Z.children.push(ae);ae.privator("render",function(){ab.next(Z)})}else{ab.next(Z)}},function(ac){if(typeof Z.onimportstart==="function"){try{Z.onimportstart.call(Z,ac)}catch(ad){console.error("[rocui] onimportstart called error with module of "+L.type()+" Message:"+ad.stack)}}},function(ac){if(typeof Z.onimportend==="function"){try{Z.onimportend.call(Z,ac)}catch(ad){console.error("[rocui] onimportend called error with module of "+L.type()+" Message:"+ad.stack)}}})},function(){this.next(L)},z(this))});J.run(L)},function(Q){if(typeof L.onimportoptionstart==="function"){try{L.onimportoptionstart.call(L,Q)}catch(R){console.error("[rocui] onimportoptionstart called error with module of "+L.type()+" Message:"+R.stack)}}},function(Q){if(typeof L.onimportoptionend==="function"){try{L.onimportoptionend.call(L,Q)}catch(R){console.error("[rocui] onimportoptionend called error with module of "+L.type()+" Message:"+R.stack)}}})}return this},parentViews:function(L){L=z.is.isAvalid(L)?(z.is.isNumber(L)?L:parseInt(L)):0;var J=this.parentView,K=L-1;while(J&&K>0){K--;J=J.parentView}return J},previousSibling:function(){if(this.parentView){var J=this.parentView.children.indexOf(this);if(J!==0){return this.parentView.children[J-1]}else{return null}}else{return null}},nextSibling:function(){if(this.parentView){var J=this.parentView.children.indexOf(this);if(J+1<this.parentView.children.length){return this.parentView.children[J+1]}else{return null}}else{return null}},getChildrenByType:function(K){var L=[];for(var J=0;J<this.children.length;J++){if(this.children[J].typeOf(K)){L.push(this.children[J])}}return L},getChildById:function(L){var K=null;for(var J=0;J<this.children.length;J++){if(this.children[J].getId()===L){K=this.children[J];break}}return K},getChildAt:function(J){if(z.is.isNumber(J)&&J>=0&&J<this.children.length){return this.children[J]}else{return null}},childEach:function(K){for(var J=0;J<this.children.length;J++){if(K){if(K.call(this.children[J],J,this.children[J],this.children)===false){break}}else{break}}},contains:function(J){return this.children.indexOf(J)!==-1},getFirstChild:function(J){if(z.is.isAvalid(J)){return this.getChildrenByType(J)[0]}else{return this.children[0]}},getLastChild:function(K){var L=null;if(z.is.isAvalid(K)){var J=this.getChildrenByType(K);if(J.length>0){L=J[J.length-1]}}else{this.children.length>0&&(L=this.children[this.children.length-1])}return L},getChildIndex:function(J){return this.children.indexOf(J)},addChild:function(L){var J=this,K=z.extend({type:null,option:"",parameters:null,id:this.getId()+"-"+this.children.length,container:"body",fn:z.nfn},L);if(K.container.isWrapper&&!K.container.isWrapper()){K.container="body"}if(K.type&&z.is.isString(K.type)&&K.type!==""){d.get(K.type,null,function(O){J.children.push(O);var P=O.__adapt__._factory.mapping[O.__adapt__._type].prototype.fullClassName;var Q=z(K.container);O.dom=z("<"+O.tagName+" class='"+P+"' data-parent-view='"+J.getId()+"' data-view='"+K.type+"' data-view-id='"+K.id+"' data-option='"+(m.isObject(K.option)?"":K.option)+"'></"+O.tagName+">").appendTo(Q);var N={};for(var M=O.__adapt__._extendslink.length-1;M>=0;M--){z.extend(N,J.option[O.__adapt__._extendslink[M]])}z.extend(N,O.__adapt__._option,J.option[K.id],J.option[K.type]);if(m.isObject(K.option)){var R={};R.override=K.option.override||{};for(var M in K.option){if(M!=="name"&&M!=="override"){if(M.indexOf("override_")===0){R.override[M.substring(9)]=K.option[M]}else{R[M]=K.option[M]}}}O.option=z.extend(N,R);for(var M in O.option.override){if(!/^(dom)|^(option)|^(name)|^(extend)|^(init)/.test(M)){O[M]=O.option.override[M]}}}if(!J.dom.contain(O.dom)){O.___outer___=true}O.option=N;O.parameters=K.parameters;O.parentView=J;O.privator("render",function(){K.fn&&K.fn.call(O)})},function(M){if(typeof J.onimportstart==="function"){try{J.onimportstart.call(J,M)}catch(N){console.error("[rocui] onimportstart called error with module of "+J.type()+" ["+N.message+"]")}}},function(M){if(typeof J.onimportend==="function"){try{J.onimportend.call(J,M)}catch(N){console.error("[rocui] onimportend called error with module of "+J.type()+" ["+N.message+"]")}}})}},removeChild:function(K){var J=this.getChildById(K);J&&J.remove();return this},removeChildAt:function(J){if(z.is.isNumber(J)&&J>0&&J<this.children.length){this.children[J].remove()}return this},removeAllChild:function(){while(this.children.length>0){this.children.pop().remove()}return this},render:z.nfn,clean:function(){var L=[];for(var J in this.children){if(this.children[J].___outer___){L.push(this.children[J])}}while(L.length>0){L.pop().remove()}try{this.onunload()}catch(K){console.error("[rocui] onunload called error with module of "+this.type()+" Message:"+K.stack)}var M=this.parentView;if(M&&M.children){var N=M.children.indexOf(this);if(N!==-1){M.children.splice(N,1)}}for(var J in this){this[J]=null}}});d.add({name:"root",packet:"",extend:["viewgroup"],className:"root",option:{packets:[]},init:function(){console.log("[rocui] root view init.")},oninitimportstart:z.nfn,oninitimportprogress:z.nfn,oninitimportend:z.nfn,importPackets:function(){if(!this.option.override){this.option.override={}}for(var M in this.option){if(M.indexOf("override_")===0){this.option.override[M.substring(9)]=this.option[M]}}for(var M in this.option.override){if(!/^(dom)|^(option)|^(name)|^(extend)|^(init)/.test(M)){this[M]=this.option.override[M]}}var K=[];for(var M=0;M<d.basemapping.basicPackets.length;M++){K.push(d.basemapping.basicPackets[M])}if(z.is.isArray(this.option.packets)){for(var M=0;M<this.option.packets.length;M++){K.push(this.option.packets[M])}}if(K.length>0){var J=z.queue(),L=this;J.complete(function(){L.oninitimportend.call(L);L.privator("render")}).progress(function(N){L.oninitimportprogress.call(L,N)});for(var M=0;M<K.length;M++){J.add(function(O,N){var P=this;z.packet({basepath:d.basemapping.basePath,packetName:N,back:function(){P.next()}})},null,K[M])}L.oninitimportstart.call(L);J.run()}else{this.privator("render")}}});z.overrideView=function(N){var K=d.factory.get("view");var M=d.factory.get("viewgroup");var J=d.factory.get("root");for(var L in N){if(L!=="init"&&L!=="option"&&L!=="extend"){K.prototype[L]=N[L];M.prototype[L]=N[L];J.prototype[L]=N[L]}}};z.overrideViewGroup=function(L){var K=d.factory.get("viewgroup");for(var J in L){if(J!=="init"&&J!=="option"&&J!=="extend"){K.prototype[J]=L[J]}}};z.overrideRoot=function(L){var K=d.factory.get("root");for(var J in L){if(J!=="init"&&J!=="option"&&J!=="extend"){K.prototype[J]=L[J]}}};z.Option=function(O,M,N){if(z.is.isString(O)){var K=t.has(O)||null;if(K){var J=z.extend(F.clone(K),{}),P={};if(M&&m.isArray(M)&&M.length>0){for(var L=0;L<M.length;L++){P[M[L]]=J[M[L]]}}else{P=J}z.extend(P,N);return P}else{return null}}else{if(z.___info){O.name=(z.___info.packet?z.___info.packet+".":"")+O.name}t.add(O)}};z.Module=function(J){if(z.___info){J.packet=z.___info.packet}d.add(J)};z.Boot=function(M,L){var K={basePath:""};z.extend(d.basemapping,K,M);p.basePath=d.basemapping.basePath;var J=z("*[data-view='root']");if(J.length>0){d.getViewInstance(J,L,function(N){N.importPackets()})}else{throw Error("[roc boot] can not find the root element.")}};k.prototype.Boot=function(K,J){if(m.isString(J)){this.dataset("view","root").dataset("viewId","root").dataset("option",J);z.Boot(K)}else{this.dataset("view","root").dataset("viewId","root").dataset("option","");z.Boot(K,J)}return this};k.prototype.getModule=function(){return this.data("-view-")};k.prototype.predefined=function(M,L){var K=k.prototype[M];if(K){var J=Array.prototype.slice.call(arguments);J.splice(0,1);return K.call(this,J)}else{return this}};var w={};z.override=function(J,K){if(m.isString(J)){if(m.isObject(K)){if(!w[J]){w[J]=z.extend(new k(),K)}else{z.extend(w[J],K)}}}};z.toggle=function(J){if(m.isString(J)){w[J]&&(C.prototype=w[J])}else{C.prototype=new k()}};z.fn=k.prototype;window.roc=z;window.$=z;z.debug={modules:d.factory,options:t.options,packets:n,require:u,doms:e};console.log("rocui.simply unusual ∞.\nversion 0.9.5,build 4993")})();